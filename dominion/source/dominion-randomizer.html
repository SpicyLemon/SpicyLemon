<html>
<head>
<title>Dominion Randomizer</title>
<script type="text/javascript">
/*! jQuery v3.6.3 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,y=n.hasOwnProperty,a=y.toString,l=a.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},S=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||S).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.3",E=function(e,t){return new E.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:f,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,a[t]=E.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=y.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?E.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=t[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,S,y,s,c,v,E="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,S)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&v(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!y||!y.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ve(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=E)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{if(d.cssSupportsSelector&&!CSS.supports("selector(:is("+c+"))"))throw new Error;return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===E&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[E]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ye(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,S=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.cssSupportsSelector=ce(function(){return CSS.supports("selector(*)")&&C.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=E,!C.getElementsByName||!C.getElementsByName(E).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&S){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&S){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&S)return t.getElementsByClassName(e)},s=[],y=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+E+"-]").length||y.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||y.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||y.push(".#.+[+~]"),e.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),d.cssSupportsSelector||y.push(":has"),y=y.length&&new RegExp(y.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),v=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&v(p,e)?-1:t==C||t.ownerDocument==p&&v(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&S&&!N[t+" "]&&(!s||!s.test(t))&&(!y||!y.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!S):void 0;return void 0!==r?r:d.attributes||!S?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace($," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,y){var v="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===y?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=v!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(v){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=y)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[E]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[E]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ye(function(){return[0]}),last:ye(function(e,t){return[t-1]}),eq:ye(function(e,t,n){return[n<0?n+t:n]}),even:ye(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ye(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ye(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ye(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[E]||(e[E]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,y,v,e){return y&&!y[E]&&(y=Ce(y)),v&&!v[E]&&(v=Ce(v,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?v||(e?d:l||y)?[]:t:f;if(g&&g(f,p,n,r),y){i=Te(p,u),y(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(v||d){if(v){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);v(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=v?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),v?v(null,t,p,r):H.apply(t,p)})}function Se(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[E]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Se(e.slice(s,n)),n<r&&Se(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,y,v,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Se(t[n]))[E]?i.push(a):o.push(a);(a=A(e,(y=o,m=0<(v=i).length,x=0<y.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!S);while(s=y[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=v[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&S&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ve(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!S,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},d.sortStable=E.split("").sort(j).join("")===E,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);E.find=d,E.expr=d.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=d.uniqueSort,E.text=d.getText,E.isXMLDoc=d.isXML,E.contains=d.contains,E.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=E.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?E.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?E.grep(e,function(e){return e===n!==r}):"string"!=typeof n?E.grep(e,function(e){return-1<i.call(n,e)!==r}):E.filter(n,e,r)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return 1<r?E.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?E(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),N.test(r[1])&&E.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=S.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,D=E(S);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&E(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(E(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(r,i){E.fn[r]=function(e,t){var n=E.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=E.filter(t,n)),1<this.length&&(H[r]||E.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},E.each(e.match(P)||[],function(e,t){n[t]=!0}),n):E.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){E.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return E.each(arguments,function(e,t){var n;while(-1<(n=E.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<E.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},E.extend({Deferred:function(e){var o=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return E.Deferred(function(r){E.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(E.Deferred.getStackHook&&(t.stackTrace=E.Deferred.getStackHook()),C.setTimeout(t))}}return E.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?E.extend(e,a):a}},s={};return E.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=E.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){C.setTimeout(function(){throw e})};var F=E.Deferred();function $(){S.removeEventListener("DOMContentLoaded",$),C.removeEventListener("load",$),E.ready()}E.fn.ready=function(e){return F.then(e)["catch"](function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0)!==e&&0<--E.readyWait||F.resolveWith(S,[E])}}),E.ready.then=F.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?C.setTimeout(E.ready):(S.addEventListener("DOMContentLoaded",$),C.addEventListener("load",$));var B=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)B(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(E(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=E.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),E.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):B(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){E.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:E.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=S.documentElement,ie=function(e){return E.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===E.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},u=s(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==l&&+u)&&te.exec(E.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)E.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,E.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=E.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}E.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?E(this).show():E(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=S.createDocumentFragment().appendChild(S.createElement("div")),(fe=S.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),v.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",v.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?E.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,v.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))E.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;E.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<E.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return S.activeElement}catch(e){}}()==("focus"===t)}function Se(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Se(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return E().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),e.each(function(){E.event.add(this,t,i,r,n)})}function Ee(e,i,o){o?(Y.set(e,i,!1),E.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(E.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:E.event.trigger(E.extend(r[0],E.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&E.event.add(e,i,we)}E.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(re,i),n.guid||(n.guid=E.guid++),(u=y.events)||(u=y.events=Object.create(null)),(a=y.handle)||(a=y.handle=function(e){return"undefined"!=typeof E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=E.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=E.event.special[d]||{},c=E.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),E.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.hasData(e)&&Y.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=E.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||E.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)E.event.remove(e,d+t[l],n,r,!0);E.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=E.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=E.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=E.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<E(i,this).index(l):E.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ee(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(t,e){E.event.special[t]={setup:function(){return Ee(this,t,Ce),!1},trigger:function(){return Ee(this,t),!0},_default:function(e){return Y.get(e.target,t)},delegateType:e}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){E.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||E.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),E.fn.extend({on:function(e,t,n,r){return Se(this,e,t,n,r)},one:function(e,t,n,r){return Se(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){E.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)E.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=E.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!v.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=E.map(ye(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=E.clone(u,!0,!0),s&&E.merge(a,ye(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,E.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&E.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&!u.noModule&&E._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(ye(r)),r.parentNode&&(n&&ie(r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=ye(c),r=0,i=(o=ye(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ye(e),a=a||ye(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ye(c,"script")).length&&ve(a,!f&&ye(e,"script")),c},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return B(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(ye(this)),t&&t.replaceChild(e,this))},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){E.fn[e]=function(e){for(var t,n=[],r=E(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),E(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=/^--/,Me=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Ie=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},We=new RegExp(ne.join("|"),"i"),Fe="[\\x20\\t\\r\\n\\f]",$e=new RegExp("^"+Fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fe+"+$","g");function Be(e,t,n){var r,i,o,a,s=Re.test(t),u=e.style;return(n=n||Me(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace($e,"$1")||void 0),""!==a||ie(e)||(a=E.style(e,t)),!v.pixelBoxStyles()&&Pe.test(a)&&We.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=S.createElement("div"),l=S.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=S.createElement("table"),t=S.createElement("tr"),n=S.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var ze=["Webkit","Moz","ms"],Ue=S.createElement("div").style,Xe={};function Ve(e){var t=E.cssProps[e]||Xe[e];return t||(e in Ue?e:Xe[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=ze.length;while(n--)if((e=ze[n]+t)in Ue)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=E.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=E.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=E.css(e,"border"+ne[a]+"Width",!0,i))):(u+=E.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=E.css(e,"border"+ne[a]+"Width",!0,i):s+=E.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Me(e),i=(!v.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Re.test(t),l=e.style;if(u||(t=Ve(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Re.test(t)||(t=Ve(s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],function(e,u){E.cssHooks[u]={get:function(e,t,n){if(t)return!Ge.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):Ie(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Me(e),o=!v.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===E.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=E.css(e,u)),Je(0,t,s)}}}),E.cssHooks.marginLeft=_e(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(i,o){E.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(E.cssHooks[i+o].set=Je)}),E.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Me(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)}}),((E.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=et.prototype.init,E.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===S.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,E.fx.interval),E.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=E.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=E.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return E.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=Y.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||E.style(e,r)}if((u=!E.isEmptyObject(t))||!E.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=Y.get(e,"display")),"none"===(c=E.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=E.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(y?"hidden"in y&&(g=y.hidden):y=Y.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)E.style(e,r,d[r])})),u=ct(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=E.isEmptyObject(t),o=E.speed(e,n,r),a=function(){var e=ft(this,E.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=E.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||E.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=E.timers,o=n?n.length:0;for(t.finish=!0,E.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,r){var i=E.fn[r];E.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),E.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){E.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),tt=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){nt||(nt=!0,st())},E.fx.stop=function(){nt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(r,e){return r=E.fx&&E.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=S.createElement("input"),it=S.createElement("select").appendChild(S.createElement("option")),rt.type="checkbox",v.checkOn=""!==rt.value,v.optSelected=it.selected,(rt=S.createElement("input")).value="t",rt.type="radio",v.radioValue="t"===rt.value;var pt,dt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return B(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||E.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(P)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}E.fn.extend({prop:function(e,t){return B(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),v.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){E(this).addClass(t.call(this,e,vt(this)))}):(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=yt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){E(this).removeClass(t.call(this,e,vt(this)))}):arguments.length?(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=yt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return m(t)?this.each(function(e){E(this).toggleClass(t.call(this,e,vt(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=mt(t),this.each(function(){if(s)for(o=E(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=vt(this))&&Y.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":Y.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+yt(vt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;E.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,E(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=E.map(t,function(e){return null==e?"":e+""})),(r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=E.valHooks[t.type]||E.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:yt(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=E.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<E.inArray(E.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<E.inArray(E(e).val(),t)}},v.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||S],d=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||S,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+E.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[E.expando]?e:new E.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),c=E.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||S)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),E.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),E.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){E.event.simulate(r,e.target,E.event.fix(e))};E.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},St=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Et=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function jt(n,e,r,i){var t;if(Array.isArray(e))E.each(e,function(e,t){r||Et.test(n)?i(n,t):jt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)jt(n+"["+t+"]",e[t],r,i)}E.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=S.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function $t(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,E.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Bt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Wt.href=Tt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,E.ajaxSettings),t):Bt(E.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,y=E.ajaxSetup({},t),v=y.context||y,m=y.context&&(v.nodeType||v.jquery)?E(v):E.event,x=E.Deferred(),b=E.Callbacks("once memory"),w=y.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(y.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),y.url=((e||y.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),y.type=t.method||t.type||y.method||y.type,y.dataTypes=(y.dataType||"*").toLowerCase().match(P)||[""],null==y.crossDomain){r=S.createElement("a");try{r.href=y.url,r.href=r.href,y.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){y.crossDomain=!0}}if(y.data&&y.processData&&"string"!=typeof y.data&&(y.data=E.param(y.data,y.traditional)),$t(Rt,y,t,T),h)return T;for(i in(g=E.event&&y.global)&&0==E.active++&&E.event.trigger("ajaxStart"),y.type=y.type.toUpperCase(),y.hasContent=!Ot.test(y.type),f=y.url.replace(qt,""),y.hasContent?y.data&&y.processData&&0===(y.contentType||"").indexOf("application/x-www-form-urlencoded")&&(y.data=y.data.replace(Dt,"+")):(o=y.url.slice(f.length),y.data&&(y.processData||"string"==typeof y.data)&&(f+=(St.test(f)?"&":"?")+y.data,delete y.data),!1===y.cache&&(f=f.replace(Lt,"$1"),o=(St.test(f)?"&":"?")+"_="+Ct.guid+++o),y.url=f+o),y.ifModified&&(E.lastModified[f]&&T.setRequestHeader("If-Modified-Since",E.lastModified[f]),E.etag[f]&&T.setRequestHeader("If-None-Match",E.etag[f])),(y.data&&y.hasContent&&!1!==y.contentType||t.contentType)&&T.setRequestHeader("Content-Type",y.contentType),T.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+It+"; q=0.01":""):y.accepts["*"]),y.headers)T.setRequestHeader(i,y.headers[i]);if(y.beforeSend&&(!1===y.beforeSend.call(v,T,y)||h))return T.abort();if(u="abort",b.add(y.complete),T.done(y.success),T.fail(y.error),c=$t(Mt,y,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,y]),h)return T;y.async&&0<y.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},y.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(y,T,n)),!i&&-1<E.inArray("script",y.dataTypes)&&E.inArray("json",y.dataTypes)<0&&(y.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(y,s,T,i),i?(y.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(E.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(E.etag[f]=u)),204===e||"HEAD"===y.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(v,[o,l,T]):x.rejectWith(v,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,y,i?o:a]),b.fireWith(v,[T,l]),g&&(m.trigger("ajaxComplete",[T,y]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,i){E[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),E.ajax(E.extend({url:e,type:i,dataType:r,data:t,success:n},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){E(this).wrapInner(n.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=E.ajaxSettings.xhr();v.cors=!!zt&&"withCredentials"in zt,v.ajax=zt=!!zt,E.ajaxTransport(function(i){var o,a;if(v.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=E("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||E.expando+"_"+Ct.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||E.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?E(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),v.createHTMLDocument=((Ut=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(r)):t=S),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=yt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=E.css(e,"position"),c=E(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=E.css(e,"top"),u=E.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===E.css(e,"position"))e=e.offsetParent;return e||re})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;E.fn[t]=function(e){return B(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),E.each(["top","left"],function(e,n){E.cssHooks[n]=_e(v.pixelPosition,function(e,t){if(t)return t=Be(e,n),Pe.test(t)?E(e).position()[n]+"px":t})}),E.each({Height:"height",Width:"width"},function(a,s){E.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){E.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?E.css(e,t,i):E.style(e,t,n,i)},s,n?e:void 0,n)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=A,E.isFunction=m,E.isWindow=x,E.camelCase=X,E.type=w,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(Gt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var Yt=C.jQuery,Qt=C.$;return E.noConflict=function(e){return C.$===E&&(C.$=Qt),e&&C.jQuery===E&&(C.jQuery=Yt),E},"undefined"==typeof e&&(C.jQuery=C.$=E),E});

    // allCards contains the information on all cards in Dominion.
    // See prepAllCards for more info on the object.
    let allCards = {"adventures":{"events":{"name":"Events","info":"","cards":[{"name":"Alms","types":["Event"],"cost":"$0","description":"Once per turn: If you have no Treasures in play, gain a card costing up to $4."},{"name":"Borrow","types":["Event"],"cost":"$0","description":"Once per turn: +1 Buy. If your -1 Card token isn't on your deck, put it there and +$1."},{"name":"Quest","types":["Event"],"cost":"$0","description":"You may discard an Attack, two Curses, or six cards. If you do, gain a Gold."},{"name":"Save","types":["Event"],"cost":"$1","description":"Once per turn: +1 Buy. Set aside a card from your hand, and put it into your hand at end of turn (after drawing)."},{"name":"Scouting Party","types":["Event"],"cost":"$2","description":"+1 Buy\nLook at the top 5 cards of your deck. Discard 3 and put the rest back in any order."},{"name":"Travelling Fair","types":["Event"],"cost":"$2","description":"+2 Buys\nWhen you gain a card this turn, you may put it onto your deck."},{"name":"Bonfire","types":["Event"],"cost":"$3","description":"Trash up to 2 cards you have in play."},{"name":"Expedition","types":["Event"],"cost":"$3","description":"Draw 2 extra cards for your next hand."},{"name":"Ferry","types":["Event"],"cost":"$3","description":"Move your -$2 cost token to an Action Supply pile. (Cards from that pile cost $2 less on your turns, but not less than $0.)"},{"name":"Plan","types":["Event"],"cost":"$3","description":"Move your Trashing token to an Action Supply pile (when you buy a card from that pile, you may trash a card from your hand.)"},{"name":"Mission","types":["Event"],"cost":"$4","description":"Once per turn: If the previous turn wasn't yours, take another turn after this one, during which you can't buy cards."},{"name":"Pilgrimage","types":["Event"],"cost":"$4","description":"Once per turn: Turn your Journey token over (it starts face up); then if it's face up, choose up to 3 differently named cards you have in play and gain a copy of each."},{"name":"Ball","types":["Event"],"cost":"$5","description":"Take your -$1 token. Gain 2 cards each costing up to $4."},{"name":"Raid","types":["Event"],"cost":"$5","description":"Gain a Silver per Silver you have in play. Each other player puts their -1 Card token on their deck."},{"name":"Seaway","types":["Event"],"cost":"$5","description":"Gain an Action card costing up to $4. Move your +1 Buy token to its pile. (When you play a card from that pile, you first get +1 Buy.)"},{"name":"Trade","types":["Event"],"cost":"$5","description":"Trash up to 2 cards from your hand. Gain a Silver per card you trashed."},{"name":"Lost Arts","types":["Event"],"cost":"$6","description":"Move your +1 Action token to an Action Supply pile. (When you play a card from that pile, you first get +1 Action.)"},{"name":"Training","types":["Event"],"cost":"$6","description":"Move your +$1 token to an Action Supply pile. (When you play a card from that pile, you first get +$1.)"},{"name":"Inheritance","types":["Event"],"cost":"$7","description":"Once per game: Set aside a non-Victory Action card from the Supply costing up to $4. Move your Estate token to it. (Your Estates gain the abilities and types of that card.)"},{"name":"Pathfinding","types":["Event"],"cost":"$8","description":"Move your +1 Card token to an Action Supply pile. (When you play a card from that pile, you first get +1 Card.)"}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Coin of the Realm","types":["Treasure","Reserve"],"cost":"$2","description":"Worth $1\nWhen you play this, put it on your Tavern mat.\n----------\nDirectly after you finish playing an Action card, you may call this, for +2 Actions."},{"name":"Page","types":["Action","Traveller"],"cost":"$2","description":"+1 Card\n+1 Action\n----------\nWhen you discard this from play, you may exchange it for a Treasure Hunter."},{"name":"Peasant","types":["Action","Traveller"],"cost":"$2","description":"+1 Buy\n+$1\n----------\nWhen you discard this from play, you may exchange it for a Soldier."},{"name":"Ratcatcher","types":["Action","Reserve"],"cost":"$2","description":"+1 Card\n+1 Action\nPut this on your Tavern mat.\n----------\nAt the start of your turn, you may call this, to trash a card from your hand."},{"name":"Raze","types":["Action"],"cost":"$2","description":"+1 Action\nTrash this or a card from your hand. Look at one card from your deck per $1 the trashed card costs. Put one of them into your hand and discard the rest."},{"name":"Amulet","types":["Action","Duration"],"cost":"$3","description":"Now and at the start of your next turn, choose one: +$1; or trash a card from your hand; or gain a Silver."},{"name":"Caravan Guard","types":["Action","Duration","Reaction"],"cost":"$3","description":"+1 Card\n+1 Action\nAt the start of your next turn, +$1.\n----------\nWhen another player plays an Attack card, you may first play this from your hand.\n(+1 Action has no effect if it's not your turn.)"},{"name":"Dungeon","types":["Action","Duration"],"cost":"$3","description":"+1 Action\nNow and at the start of your next turn: +2 Cards, then discard 2 cards"},{"name":"Gear","types":["Action","Duration"],"cost":"$3","description":"+2 Cards\nSet aside up to 2 cards from your hand face down (under this). At the start of your next turn, put them into your hand."},{"name":"Guide","types":["Action","Reserve"],"cost":"$3","description":"+1 Card\n+1 Action\nPut this on your Tavern mat.\n----------\nAt the start of your turn, you may call this, to discard your hand and draw 5 cards."},{"name":"Duplicate","types":["Action","Reserve"],"cost":"$4","description":"Put this on your Tavern mat.\n----------\nWhen you gain a card costing up to $6, you may call this, to gain a copy of that card."},{"name":"Magpie","types":["Action"],"cost":"$4","description":"+1 Card\n+1 Action\nReveal the top card of your deck. If it's a Treasure, put it into your hand. If it's an Action or Victory card, gain a Magpie."},{"name":"Messenger","types":["Action"],"cost":"$4","description":"+1 Buy\n+$2\nYou may put your deck into your discard pile.\n----------\nWhen this is your first buy in a turn, gain a card costing up to $4, and each other player gains a copy of it."},{"name":"Miser","types":["Action"],"cost":"$4","description":"Choose one: Put a Copper from your hand onto your Tavern mat; or +$1 per Copper on your Tavern mat."},{"name":"Port","types":["Action"],"cost":"$4","description":"+1 Card\n+2 Actions\n----------\nWhen you buy this, gain another Port."},{"name":"Ranger","types":["Action"],"cost":"$4","description":"+1 Buy\nTurn your Journey token over (it starts face up). Then if it's face up, +5 Cards."},{"name":"Transmogrify","types":["Action","Reserve"],"cost":"$4","description":"+1 Action\nPut this on your Tavern mat.\n----------\nAt the start of your turn, you may call this, to trash a card from your hand, and gain a card costing up to $1 more than it into your hand."},{"name":"Artificer","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\n+$1\nDiscard any number of cards. You may gain a card costing exactly $1 per card discarded, onto your deck."},{"name":"Bridge Troll","types":["Action","Attack","Duration"],"cost":"$5","description":"Each other player takes their -$1 token.\nNow and at the start of your next turn: +1 Buy.\n----------\nWhile this is in play, cards cost $1 less on your turns, but not less than $0."},{"name":"Distant Lands","types":["Action","Reserve","Victory"],"cost":"$5","description":"Put this on your Tavern mat.\n----------\nWorth 4VP if on your Tavern mat at the end of the game (otherwise worth 0VP)."},{"name":"Giant","types":["Action","Attack"],"cost":"$5","description":"Turn your Journey token over (it starts face up). Then if it's face down, +$1. If it's face up, +$5, and each other player reveals the top card of their deck, trashes it if it costs from $3 to $6, and otherwise discards it and gains a Curse."},{"name":"Haunted Woods","types":["Action","Attack","Duration"],"cost":"$5","description":"Until your next turn, when any other player buys a card, they put their hand onto their deck in any order.\nAt the start of your next turn, +3 Cards."},{"name":"Lost City","types":["Action"],"cost":"$5","description":"+2 Cards\n+2 Actions\n----------\nWhen you gain this, each other player draws a card."},{"name":"Relic","types":["Treasure","Attack"],"cost":"$5","description":"Worth $2\nWhen you play this, each other player puts their -1 Card token on their deck."},{"name":"Royal Carriage","types":["Action","Reserve"],"cost":"$5","description":"+1 Action\nPut this on your Tavern mat.\n----------\nDirectly after you finish playing an Action card, if it's still in play, you may call this, to replay that Action."},{"name":"Storyteller","types":["Action","Reserve"],"cost":"$5","description":"+1 Action\n+$1\nPlay up to 3 Treasures from your hand. Then pay all of your $ (including the $1 from this) and draw a card per $1 you paid."},{"name":"Swamp Hag","types":["Action","Attack","Duration"],"cost":"$5","description":"Until your next turn, when any other player buys a card, they gain a Curse.\nAt the start of your next turn, +$3."},{"name":"Treasure Trove","types":["Treasure"],"cost":"$5","description":"Worth $2\nWhen you play this, gain a Gold and a Copper."},{"name":"Wine Merchant","types":["Action","Reserve"],"cost":"$5","description":"+$4\n+1 Buy\nPut this on your Tavern mat.\n----------\nAt the end of your Buy phase, if you have at least $2 unspent, you may discard this from your Tavern mat."},{"name":"Hireling","types":["Action","Duration"],"cost":"$6","description":"At the start of each of your turns for the rest of the game: +1 Card.\n(This stays in play.)"}]},"travellers":{"name":"Travellers","info":"","cards":[{"name":"Treasure Hunter","types":["Action","Traveller"],"cost":"$3*","description":"+1 Action\n+$1\nGain a Silver per card the player to your right gained on their last turn.\n----------\nWhen you discard this from play, you may exchange it for a Warrior.\n(This is not in the Supply.)"},{"name":"Warrior","types":["Action","Attack","Traveller"],"cost":"$4*","description":"+2 Cards\nFor each Traveller you have in play (including this), each other player discards the top card of their deck and trashes it if it costs $3 or $4.\n----------\nWhen you discard this from play, you may exchange it for a Hero.\n(This is not in the Supply.)"},{"name":"Hero","types":["Action","Traveller"],"cost":"$5*","description":"+$2\nGain a Treasure.\n----------\nWhen you discard this from play, you may exchange it for a Champion.\n(This is not in the Supply.)"},{"name":"Champion","types":["Action","Duration"],"cost":"$6*","description":"+1 Action\nFor the rest of the game, when another player plays an Attack, it doesn't affect you, and when you play an Action, +1 Action.\n(This stays in play. This is not in the Supply.)"},{"name":"Soldier","types":["Action","Attack","Traveller"],"cost":"$3*","description":"+$2\n+$1 per other Attack you have in play. Each other player with 4 or more cards in hand discards a card.\n----------\nWhen you discard this from play, you may exchange it for a Fugitive.\n(This is not in the Supply.)"},{"name":"Fugitive","types":["Action","Traveller"],"cost":"$4*","description":"+2 Cards\n+1 Action\nDiscard a card.\n----------\nWhen you discard this from play, you may exchange it for a Disciple.\n(This is not in the Supply.)"},{"name":"Disciple","types":["Action","Traveller"],"cost":"$5*","description":"You may play an Action card from your hand twice. Gain a copy of it.\n----------\nWhen you discard this from play, you may exchange it for a Teacher.\n(This is not in the Supply.)"},{"name":"Teacher","types":["Action","Reserve"],"cost":"$6*","description":"Put this on your Tavern mat.\n----------\nAt the start of your turn, you may call this, to move your +1 Card, +1 Action, +1 Buy, or +$1 token to an Action Supply pile you have no tokens on. (When you play a card from that pile, you first get that bonus.)\n(This is not in the Supply.)"}]}},"alchemy":{"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Herbalist","types":["Action"],"cost":"$2","description":"+1 Buy\n+$1\n----------\nWhen you discard this from play, you may put one of your Treasures from play onto your deck."},{"name":"Apprentice","types":["Action"],"cost":"$5","description":"+1 Action\nTrash a card from your hand. +1 Card per $1 it costs. +2 Cards if it has ◉ in its cost."},{"name":"Transmute","types":["Action"],"cost":"$0◉","description":"Trash a card from your hand. If it's an...\nAction card, gain a Duchy\nTreasure card, gain a Transmute\nVictory card, gain a Gold"},{"name":"Vineyard","types":["Victory"],"cost":"$0◉","description":"Worth 1VP per 3 Action cards in your deck (round down)."},{"name":"Apothecary","types":["Action"],"cost":"$2◉","description":"+1 Card\n+1 Action\nReveal the top 4 cards of your deck. Put the revealed Coppers and Potions into your hand. Put the rest back in any order."},{"name":"Scrying Pool","types":["Action","Attack"],"cost":"$2◉","description":"+1 Action\nEach player (including you) reveals the top card of their deck and either discards it or puts it back, your choice. Then reveal cards from your deck until revealing one that isn't an Action. Put all of those revealed cards into your hand."},{"name":"University","types":["Action"],"cost":"$2◉","description":"+2 Actions\nYou may gain an Action card costing up to $5."},{"name":"Alchemist","types":["Action"],"cost":"$3◉","description":"+2 Cards\n+1 Action\n----------\nWhen you discard this from play, if you have a Potion in play, you may put this onto your deck."},{"name":"Familiar","types":["Action","Attack"],"cost":"$3◉","description":"+1 Card\n+1 Action\nEach other player gains a curse."},{"name":"Philosopher's Stone","types":["Treasure"],"cost":"$3◉","description":"When you play this, count your deck and discard pile. Worth $1 per 5 cards total between them (round down)."},{"name":"Golem","types":["Action"],"cost":"$4◉","description":"Reveal cards from your deck until you reveal 2 Action cards other than Golems. Discard the other cards, then play the Action cards in either order."},{"name":"Possession","types":["Action"],"cost":"$6◉","description":"The player to your left takes an extra turn after this one, in which you can see all cards they can and make all decisions for them. Any cards or tokens they would gain on that turn, you gain instead; any cards of theirs that are trashed are set aside and put in their discard pile at end of turn."}]},"potion":{"name":"Potion","info":"Include if any cards inlude a ◉ in their cost","cards":[{"name":"Potion","types":["Treasure"],"cost":"$4","description":"Worth 1◉"}]}},"allies":{"allies":{"name":"Allies","info":"","cards":[{"name":"Architects' Guild","types":["Ally"],"cost":"","description":"When you gain a card, you may spend 2 Favors to gain a cheaper non-Victory card."},{"name":"Band of Nomads","types":["Ally"],"cost":"","description":"When you gain a card costing $3 or more, you may spend a Favor, for +1 Card, or +1 Action, or +1 Buy."},{"name":"Cave Dwellers","types":["Ally"],"cost":"","description":"At the start of your turn, you may spend a Favor, to discard a card then draw a card. Repeat as desired."},{"name":"Circle of Witches","types":["Ally"],"cost":"","description":"After playing a Liaison, you may spend 3 Favors to have each other player gain a Curse."},{"name":"City-State","types":["Ally"],"cost":"","description":"When you gain an Action card, during your turn, you may spend 2 Favors to play it."},{"name":"Coastal Haven","types":["Ally"],"cost":"","description":"When discarding your hand in Clean-up, you may spend any number of Favors to keep that many cards in hand for next turn (you still draw 5)."},{"name":"Crafters' Guild","types":["Ally"],"cost":"","description":"At the start of your turn, you may spend 2 Favors to gain a card costing up to $4 onto your deck."},{"name":"Desert Guides","types":["Ally"],"cost":"","description":"At the start of your turn, you may spend a Favor to discard your hand and draw 5 Cards. Repeat as desired."},{"name":"Family of Inventors","types":["Ally"],"cost":"","description":"At the start of your Buy phase, you may put a Favor token you have on a non-Victory Supply pile. Cards cost $1 less per Favor token on their piles."},{"name":"Fellowship of Scribes","types":["Ally"],"cost":"","description":"After playing an Action, if you have 4 or fewer cards in hand, you may spend a Favor for +1 Card."},{"name":"Forest Dwellers","types":["Ally"],"cost":"","description":"At the start of your turn, you may spend a Favor to look at the top 3 cards of your deck, discard any number, and put the rest back in any order"},{"name":"Gang of Pickpockets","types":["Ally"],"cost":"","description":"At the start of your turn, discard down to 4 cards in hand unless you spend a Favor."},{"name":"Island Folk","types":["Ally"],"cost":"","description":"At the end of your turn, if the previous turn wasn't yours, you may spend 5 Favors to take another turn."},{"name":"League of Bankers","types":["Ally"],"cost":"","description":"At the start of your Buy phase, +$1 per 4 Favors you have (rounded down)."},{"name":"League of Shopkeepers","types":["Ally"],"cost":"","description":"After playing a Liaison, if you have 5 or more Favors, +$1, and if 10 or more, +1 Action and +1 Buy."},{"name":"Market Towns","types":["Ally"],"cost":"","description":"At the start of your Buy phase, you may spend a Favor to play an Action card from your hand. Repeat as desired."},{"name":"Mountain Folk","types":["Ally"],"cost":"","description":"At the start of your turn, you may spend 5 Favors for +3 Cards."},{"name":"Order of Astrologers","types":["Ally"],"cost":"","description":"When shuffling, you may pick one card per Favor you spend to go on top."},{"name":"Order of Masons","types":["Ally"],"cost":"","description":"When shuffling, you may pick up to 2 cards per Favor you spend to put it into your discard pile."},{"name":"Peaceful Cult","types":["Ally"],"cost":"","description":"At the start of your Buy phase, you may spend any number of Favors to trash that many cards from your hand."},{"name":"Plateau Shepherds","types":["Ally"],"cost":"","description":"When scoring, pair up your Favors with cards you have costing $2, for 2VP per pair."},{"name":"Trappers' Lodge","types":["Ally"],"cost":"","description":"When you gain a card, you may spend a Favor to put it onto your deck."},{"name":"Woodworkers' Guild","types":["Ally"],"cost":"","description":"At the start of your Buy phase, you may spend a Favor to trash an Action card from your hand. If you did, gain an Action card."}]},"augurs":{"name":"Augurs","info":"","cards":[{"name":"Herb Gatherer","types":["Action","Augur"],"cost":"$3","description":"+1 Buy\nPut your deck into your discard pile. Look through it and you may play a Treasure from it.\nYou may rotate the Augurs"},{"name":"Acolyte","types":["Action","Augur"],"cost":"$4","description":"You may trash an Action or Victory card from your hand to gain a Gold.\nYou may trash this to gain an Augur."},{"name":"Sorceress","types":["Action","Attack","Augur"],"cost":"$5","description":"+1 Action\nName a card. Reveal the top card of your deck and put it into your hand.\nIf it's the named card, each other player gains a Curse."},{"name":"Sibyl","types":["Action","Augur"],"cost":"$6","description":"+4 Cards\n+1 Action\nPut a card from your hand on the top of your deck, and another on the bottom."}]},"clashes":{"name":"Clashes","info":"","cards":[{"name":"Battle Plan","types":["Action","Clash"],"cost":"$3","description":"+1 Card\n+1 Action\nYou may reveal an Attack card from your hand for +1 Card.\nYou may rotate any Supply pile."},{"name":"Archer","types":["Action","Attack","Clash"],"cost":"$4","description":"+$2\nEach other player with 5 or more cards in hand reveals all but one, and discards one of them that you choose."},{"name":"Warlord","types":["Action","Duration","Attack","Clash"],"cost":"$5","description":"+1 Action\nAt the start of your next turn, +2 Cards. Until then, other players can't play an Action from their hand that they have 2 or more copies of in play."},{"name":"Territory","types":["Victory","Clash"],"cost":"$6","description":"Worth 1VP per differently named Victory card you have.\n----------\nWhen you gain this, gain a Gold per empty Supply pile."}]},"forts":{"name":"Forts","info":"","cards":[{"name":"Tent","types":["Action","Fort"],"cost":"$3","description":"+$2\nYou may rotate the Forts.\n----------\nWhen you discard this from play, you may put it onto your deck."},{"name":"Garrison","types":["Action","Duration","Fort"],"cost":"$4","description":"+$2\nThis turn, when you gain a card, add a token here. At the start of your next turn, remove them for +1 Card each."},{"name":"Hill Fort","types":["Action","Fort"],"cost":"$5","description":"Gain a card costing up to $4. Choose one: Put it into your hand; or +1 Card and +1 Action."},{"name":"Stronghold","types":["Action","Victory","Duration","Fort"],"cost":"$6","description":"Choose one; +$3; or at the start of your next turn, +3 Cards.\n----------\nWorth 2VP"}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Bauble","types":["Treasure","Liaison"],"cost":"$2","description":"Choose two different options:\n+1 Buy; +$1; +1 Favor;\nThis turn when you gain a card you may put it onto your deck."},{"name":"Sycophant","types":["Action","Liaison"],"cost":"$2","description":"+1 Action\nDiscard 3 cards. If you discarded at least one, +$3\n----------\nWhen you gain or trash this card, +2 Favors"},{"name":"Townsfolk","types":["Townsfolk"],"cost":"$2","description":"This pile starts the game with 4 copies each of Town Crier, Blacksmith, Miller, and Elder, in that order. Only the top card can be gained or bought."},{"name":"Augurs","types":["Augur"],"cost":"$3","description":"This pile starts the game with 4 copies each of Herb Gatherer, Acolyte, Sorceress, and Sibyl, in that order. Only the top card can ge gained or bought."},{"name":"Clashes","types":["Clash"],"cost":"$3","description":"This pile starts the game with 4 copies each of Battle Plan, Archer, Warlord, and Territory, in that order. Only the top card can ge gained or bought."},{"name":"Forts","types":["Fort"],"cost":"$3","description":"This pile starts the game with 4 copies each of Tent, Garrison, Hill Fort, and Stronghold, in that order. Only the top card can ge gained or bought."},{"name":"Importer","types":["Action","Duration","Liaison"],"cost":"$3","description":"At the start of your next turn, gain a card costing up to $5.\n----------\nSetup: Each player gets +4 Favors"},{"name":"Merchant Camp","types":["Action"],"cost":"$3","description":"+2 Actions\n+$1\n----------\nWhen you discard this from play, you may put it onto your deck."},{"name":"Odysseys","types":["Odyssey"],"cost":"$3","description":"This pile starts the game with 4 copies each of Old Map, Voyage, Sunken Treasure, and Distant Shore, in that order. Only the top card can ge gained or bought."},{"name":"Sentinel","types":["Action"],"cost":"$3","description":"Look at the top 5 cards of your deck. You may trash up to 2 of them. Put the rest back in any order."},{"name":"Underling","types":["Action","Liaison"],"cost":"$3","description":"+1 Card\n+1 Action\n+1 Favor"},{"name":"Wizards","types":["Wizard"],"cost":"$3","description":"This pile starts the game with 4 copies each of Student, Conjurer, Sorcerer, and Lich, in that order. Only the top card can ge gained or bought."},{"name":"Broker","types":["Action","Liaison"],"cost":"$4","description":"Trash a card from your hand and choose one:\n+1 Card per $1 it costs;\nor +1 Action per $1 it costs;\nor +$1 per $1 it costs;\nor +1 Favor per $1 it costs."},{"name":"Carpenter","types":["Action"],"cost":"$4","description":"If no Supply piles are empty, +1 Action and gain a card costing up to $4.\nOtherwise, trash a card from your hand and gain a card costing up to $2 more than it."},{"name":"Courier","types":["Action"],"cost":"$4","description":"+$1\nDiscard the top card of your deck. Look through your discard pile; you may plan an Action or Treasure from it."},{"name":"Innkeeper","types":["Action"],"cost":"$4","description":"+1 Action\nChoose one; +1 Card; or +3 Cards, then discard 3 cards; or +5 Cards then discard 6 cards."},{"name":"Royal Galley","types":["Action","Duration"],"cost":"$4","description":"+1 Card\nYou may play a non-Duration Action card from your hand.\nSet it aside; if you did, then at the start of your next turn, play it."},{"name":"Town","types":["Action"],"cost":"$4","description":"Choose one:\n+1 Card and +2 Actions;\nor +1 Buy and +$2"},{"name":"Barbarian","types":["Action","Attack"],"cost":"$5","description":"+$2\nEach other player trashes the top card of their deck. If it costs $3 or more they gain a cheaper card sharing a type with it; otherwise they gain a Curse."},{"name":"Capital City","types":["Action"],"cost":"$5","description":"+1 Card\n+2 Actions\nYou may discard 2 cards for $2.\nYou may pay $2 for +2 cards."},{"name":"Contract","types":["Treasure","Duration","Liaison"],"cost":"$5","description":"Worth $2\n+1 Favor\nYou may set aside an Action from your hand to play it at the start of your next turn."},{"name":"Emissary","types":["Action","Liaison"],"cost":"$5","description":"+3 Cards\nIf this made you shuffle (at least one card), +1 Action and +2 Favors."},{"name":"Galleria","types":["Action"],"cost":"$5","description":"+$3\nThis turn, when you gain a card costing $3 or $4, +1 Buy."},{"name":"Guildmaster","types":["Action","Liaison"],"cost":"$5","description":"+$3\nThis turn, when you gain a card, +1 Favor."},{"name":"Highwayman","types":["Action","Duration","Attack"],"cost":"$5","description":"At the start of your next turn, discard this from play and +3 Cards.\nUntil then, the first treasure each other plays each turn does nothing."},{"name":"Hunter","types":["Action"],"cost":"$5","description":"+1 Action\nReveal the top 3 cards of your deck. From those cards, put an Action, a Treasure, and a Victory card into your hand. Discard the rest."},{"name":"Modify","types":["Action"],"cost":"$5","description":"Trash a card from your hand. Choose one: +1 Card and +1 Action; or gain a card costing up to $2 more than the trashed card."},{"name":"Skirmisher","types":["Action","Attack"],"cost":"$5","description":"+1 Card\n+1 Action\n+$1\nThis turn, when you gain an Attack card, each other player discards down to 3 cards in hand."},{"name":"Specialist","types":["Action"],"cost":"$5","description":"You may play an Action or Treasure from your hand. Choose one: Play it again; or gain a copy of it."},{"name":"Swap","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\nYou may return an Action from your hand to its pile, to gain to your hand a different action costing up to $5."},{"name":"Marquis","types":["Action"],"cost":"$6","description":"+1 Buy\n+1 Card per card in your hand. Discard down to 10 cards in hand."}]},"odysseys":{"name":"Odysseys","info":"","cards":[{"name":"Old Map","types":["Action","Odyssey"],"cost":"$3","description":"+1 Card\n+1 Action\nDiscard a card. +1 Card.\nYou may rotate the Odysseys."},{"name":"Voyage","types":["Action","Duration","Odyssey"],"cost":"$4","description":"+1 Action\nIf the previous turn wasn't yours, take an extra turn after this one, during which you can only play 3 cards from your hand."},{"name":"Sunken Treasure","types":["Treasure","Odyssey"],"cost":"$5","description":"Worth $0\nGain an Action card you don't have a copy of in play."},{"name":"Distant Shore","types":["Action","Victory","Odyssey"],"cost":"$6","description":"+2 Cards\n+1 Action\nGain an Estate\n----------\nWorth 2VP"}]},"townsfolk":{"name":"Townsfolk","info":"","cards":[{"name":"Town Crier","types":["Action","Townsfolk"],"cost":"$2","description":"Choose one: +$2; or gain a Silver; or +1 Card and +1 Action.\nYou may rotate the Townsfolk."},{"name":"Blacksmith","types":["Action","Townsfolk"],"cost":"$3","description":"Choose one:\nDraw until you have 6 cards in hand; or +2 Cards; or +1 Card and +1 Action."},{"name":"Miller","types":["Action","Townsfolk"],"cost":"$4","description":"+1 Action\nLook at the top 4 cards of your deck. Put one into your hand and discard the rest."},{"name":"Elder","types":["Action","Townsfolk"],"cost":"$5","description":"+$2\nYou may play an Action card from your hand. When it gives you a choice of abilities (e.g. \"choose one\") this turn, you may choose an extra (different) option."}]},"wizards":{"name":"Wizards","info":"","cards":[{"name":"Student","types":["Action","Wizard","Liaison"],"cost":"$3","description":"+1 Action\nYou may rotate the Wizards.\nTrash a card from your hand. If it's a Treasure, +1 Favor and put this onto your deck."},{"name":"Conjurer","types":["Action","Duration","Wizard"],"cost":"$4","description":"Gain a card costing up to $4.\nAt the start of your next turn, put this into your hand."},{"name":"Sorcerer","types":["Action","Attack","Wizard"],"cost":"$5","description":"+1 Card\n+1 Action\nEach other player names a card, then reveals the top card of their deck. If wrong, they gain a Curse."},{"name":"Lich","types":["Action","Wizard"],"cost":"$6","description":"+6 Cards\n+2 Actions\nSkip a turn\n----------\nWhen you trash this card, discard it and gain a cheaper card from the trash."}]}},"base":{"in-1st-not-2nd":{"name":"In 1st Not 2nd","info":"","cards":[{"name":"Chancellor","types":["Action"],"cost":"$3","description":"+$2\nYou may immediately put your deck into your discard pile."},{"name":"Woodcutter","types":["Action"],"cost":"$3","description":"+1 Buy\n+$2"},{"name":"Feast","types":["Action"],"cost":"$4","description":"Trash this card. Gain a card costing up to $5."},{"name":"Spy","types":["Action","Attack"],"cost":"$4","description":"+1 Card; +1 Action\nEach player (including you) reveals the top card of his deck and either discards it or puts it back, your choice."},{"name":"Thief","types":["Action","Attack"],"cost":"$4","description":"Each other player reveals the top 2 cards of his deck. If they revealed any Treasure cards, they trash one of them that you choose. You may gain any or all of these trashed cards. They discard the other revealed cards."},{"name":"Adventurer","types":["Action"],"cost":"$6","description":"+1 Card; +1 Action\nReveal the top 4 cards of your deck. Put the revealed Coppers and Potions into your hand. Put the other cards back on top in any order."}]},"in-2nd-not-1st":{"name":"In 2nd Not 1st","info":"","cards":[{"name":"Harbinger","types":["Action"],"cost":"$3","description":"+1 Card\n+1 Action\nLook through your discard pile. You may put a card from it onto your deck."},{"name":"Merchant","types":["Action"],"cost":"$3","description":"+1 Card\n+1 Action\nThe first time you play a Silver this turn, +$1."},{"name":"Vassal","types":["Action"],"cost":"$3","description":"Discard the top card of your deck. If it's an Action card, you may play it."},{"name":"Poacher","types":["Action"],"cost":"$4","description":"+1 Card\n+1 Action\n+$1\nDiscard a card per empty Supply pile."},{"name":"Bandit","types":["Action","Attack"],"cost":"$5","description":"Gain a Gold. Each other player reveals the top two cards of their deck, trashes a revealed Treasure other than Copper, and discards the rest."},{"name":"Sentry","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\nLook at the top 2 cards of your deck. Trash and/or discard any number of them. Put the rest back on top in any order."}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Cellar","types":["Action"],"cost":"$2","description":"+1 Action\nDiscard any number of cards, then draw that many."},{"name":"Chapel","types":["Action"],"cost":"$2","description":"Trash up to 4 cards from your hand."},{"name":"Moat","types":["Action","Reaction"],"cost":"$2","description":"+2 Cards\n----------\nWhen another player plays an Attack card, you may first reveal this from your hand, to be unaffected by it."},{"name":"Village","types":["Action"],"cost":"$3","description":"+1 Card\n+2 Actions"},{"name":"Workshop","types":["Action"],"cost":"$3","description":"Gain a card costing up to $4."},{"name":"Bureaucrat","types":["Action","Attack"],"cost":"$4","description":"Gain a silver card; put it on top of your deck. Each other player reveals a Victory card from his hand and puts it on his deck (or reveals a hand with no Victory cards)."},{"name":"Gardens","types":["Victory"],"cost":"$4","description":"Worth 1VP for every 10 cards in your deck (rounded down)."},{"name":"Militia","types":["Action","Attack"],"cost":"$4","description":"+$2\nEach other player discards down to 3 cards in their hand."},{"name":"Moneylender","types":["Action"],"cost":"$4","description":"You may trash a Copper from your hand. If you do, +$3."},{"name":"Remodel","types":["Action"],"cost":"$4","description":"Trash a card from your hand. Gain a card costing up to $2 more than the trashed card."},{"name":"Smithy","types":["Action"],"cost":"$4","description":"+3 Cards"},{"name":"Throne Room","types":["Action"],"cost":"$4","description":"You may play an Action card from your hand twice."},{"name":"Council Room","types":["Action"],"cost":"$5","description":"+4 Cards\n+1 Buy\nEach other player draws a card."},{"name":"Festival","types":["Action"],"cost":"$5","description":"+2 Actions\n+1 Buy\n+$2"},{"name":"Laboratory","types":["Action"],"cost":"$5","description":"+2 Cards\n+1 Action"},{"name":"Library","types":["Action"],"cost":"$5","description":"Draw until you have 7 cards in hand, skipping any Action cards you choose to; set those aside, discarding them afterwards."},{"name":"Market","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\n+1 Buy\n+$1"},{"name":"Mine","types":["Action"],"cost":"$5","description":"You may trash a Treasure from your hand. Gain a Treasure to your hand costing up to $3 more than it."},{"name":"Witch","types":["Action","Attack"],"cost":"$5","description":"+2 Cards\nEach other player gains a Curse card."},{"name":"Artisan","types":["Action"],"cost":"$6","description":"Gain a card to your hand costing up to $5. Put a card from your hand onto your deck."}]}},"cornucopia":{"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Hamlet","types":["Action"],"cost":"$2","description":"+1 Card\n+1 Action\nYou may discard a card for +1 Action.\nYou may discard a card for +1 Buy."},{"name":"Fortune Teller","types":["Action","Attack"],"cost":"$3","description":"+$2\nEach other player reveals cards from the top of their deck until they reveal a Victory card or Curse. They put it on top and discard the rest."},{"name":"Menagerie","types":["Action"],"cost":"$3","description":"+1 Action\nReveal your hand. If the revealed cards all have different names, +3 Cards. Otherwise, +1 Card."},{"name":"Farming Village","types":["Action"],"cost":"$4","description":"+2 Actions\nReveal cards from the top of your deck until you reveal an Action or Treasure card. Put that card into your hand and discard the rest."},{"name":"Horse Traders","types":["Action","Reaction"],"cost":"$4","description":"+1 Buy\n+$3\nDiscard 2 cards.\n----------\nWhen another player plays an Attack card, you may first set this aside from your hand. If you do, then at the start of your next turn, +1 Card and return this to your hand."},{"name":"Remake","types":["Action"],"cost":"$4","description":"Do this twice: Trash a card from your hand, then gain a card costing exactly $1 more than it."},{"name":"Tournament","types":["Action"],"cost":"$4","description":"+1 Action\nEach player may reveal a Province from their hand. If you do, discard it and gain any Prize (from the Prize pile) or a Duchy, onto your deck. If no-one else does, +1 Card and +$1."},{"name":"Young Witch","types":["Action","Attack"],"cost":"$4","description":"+2 Cards\nDiscard 2 cards. Each other player may reveal a Bane card from their hand; if they don't, they gain a Curse.\n----------\nSetup: Add an extra Kingdom card pile costing $2 or $3 to the Supply. Cards from that pile are Bane cards."},{"name":"Harvest","types":["Action"],"cost":"$5","description":"Reveal the top 4 cards of your deck, then discard them. +$1 per differently named card revealed."},{"name":"Horn of Plenty","types":["Treasure"],"cost":"$5","description":"When you play this, gain a card costing up to $1 per differently named card you have in play (counting this). If it's a Victory card, trash this."},{"name":"Hunting Party","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\nReveal your hand. Reveal cards from your deck until you reveal one that isn't a copy of one in your hand. Put it into your hand and discard the rest."},{"name":"Jester","types":["Action","Attack"],"cost":"$5","description":"+$2\nEach other player discards the top card of their deck. If it's a Victory card they gain a Curse; otherwise they gain a copy of the discarded card or you do, your choice."},{"name":"Fairgrounds","types":["Victory"],"cost":"$6","description":"Worth 2VP for every 5 differently named cards in your deck (round down)."}]},"prizes":{"name":"Prizes","info":"","cards":[{"name":"Bag of Gold","types":["Action","Prize"],"cost":"$0*","description":"+1 Action\nGain a Gold onto your deck.\n(This is not in the Supply.)"},{"name":"Diadem","types":["Treasure","Prize"],"cost":"$0*","description":"Worth $2\nWhen you play this, +$1 per unused Action you have (Action, not Action card).\n(This is not in the Supply.)"},{"name":"Followers","types":["Action","Attack","Prize"],"cost":"$0*","description":"+2 Cards\nGain an Estate. Each other player gains a Curse and discards down to 3 cards in hand.\n(This is not in the Supply.)"},{"name":"Princess","types":["Action","Prize"],"cost":"$0*","description":"+1 Buy\nWhile this is in play, cards cost $2 less, but not less than $0.\n(This is not in the Supply.)"},{"name":"Trusty Steed","types":["Action","Prize"],"cost":"$0*","description":"Choose two: +2 Cards; +2 Actions; +$2; gain 4 Silvers and put your deck into your discard pile.\n(This is not in the Supply.)"}]}},"dark-ages":{"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Poor House","types":["Action"],"cost":"$1","description":"+$4\nReveal your hand. -$1 per Treasure card in your hand. (You can't go below $0.)"},{"name":"Beggar","types":["Action","Reaction"],"cost":"$2","description":"Gain 3 Coppers to your hand.\n----------\nWhen another player plays an Attack card, you may first discard this to gain 2 Silvers, putting one onto your deck."},{"name":"Squire","types":["Action"],"cost":"$2","description":"+$1\nChoose one: +2 Actions; or +2 Buys; or gain a Silver.\n----------\nWhen you trash this, gain an Attack card."},{"name":"Vagrant","types":["Action"],"cost":"$2","description":"+1 Card\n+1 Action\nReveal the top card of your deck. If it's a Curse, Ruins, Shelter, or Victory card, put it into your hand."},{"name":"Forager","types":["Action"],"cost":"$3","description":"+1 Action\n+1 Buy\nTrash a card from your hand, then +$1 per differently named Treasure in the trash."},{"name":"Hermit","types":["Action"],"cost":"$3","description":"Look through your discard pile. You may trash a non-Treasure card from your discard pile or hand. Gain a card costing up to $3.\n----------\nWhen you discard this from play, if you didn't buy any cards this turn, trash this and gain a Madman from the Madman pile."},{"name":"Market Square","types":["Action","Reaction"],"cost":"$3","description":"+1 Card\n+1 Action\n+1 Buy\n----------\nWhen one of your cards is trashed, you may discard this from your hand to gain a Gold."},{"name":"Sage","types":["Action"],"cost":"$3","description":"+1 Action\nReveal cards from your deck until you reveal one costing $3 or more. Put that card into your hand and discard the rest."},{"name":"Storeroom","types":["Action"],"cost":"$3","description":"+1 Buy\nDiscard any number of cards, then draw that many. Then discard any number of cards for +$1 each."},{"name":"Urchin","types":["Action","Attack"],"cost":"$3","description":"+1 Card\n+1 Action\nEach other player discards down to 4 cards in hand.\n----------\nWhen you play another Attack card with this in play, you may first trash this, to gain a Mercenary from the Mercenary pile."},{"name":"Armory","types":["Action"],"cost":"$4","description":"Gain a card onto your deck costing up to $4."},{"name":"Death Cart","types":["Action","Looter"],"cost":"$4","description":"+$5\nYou may trash an Action card from your hand. If you don't, trash this.\n----------\nWhen you gain this, gain two Ruins."},{"name":"Feodum","types":["Victory"],"cost":"$4","description":"Worth 1VP per 3 Silvers you have (round down).\n----------\nWhen you trash this, gain 3 Silvers."},{"name":"Fortress","types":["Action"],"cost":"$4","description":"+1 Card\n+2 Actions\n----------\nWhen you trash this, put it into your hand."},{"name":"Ironmonger","types":["Action"],"cost":"$4","description":"+1 Card\n+1 Action\nReveal the top card of your deck; you may discard it. Either way, if it's an...\nAction card, +1 Action\nTreasure card, +$1\nVictory card, +1 Card"},{"name":"Marauder","types":["Action","Attack","Looter"],"cost":"$4","description":"Gain a Spoils from the Spoils pile. Each other player gains a Ruins."},{"name":"Procession","types":["Action"],"cost":"$4","description":"You may play an Action card from your hand twice. Trash it. Gain an Action card costing exactly $1 more than it."},{"name":"Rats","types":["Action"],"cost":"$4","description":"+1 Card\n+1 Action\nGain a Rats. Trash a card from your hand other than a Rats (or reveal a hand of all Rats).\n----------\nWhen you trash this, +1 Card."},{"name":"Scavenger","types":["Action"],"cost":"$4","description":"+$2\nYou may put your deck into your discard pile. Look through your discard pile and put one card from it onto your deck."},{"name":"Wandering Minstrel","types":["Action"],"cost":"$4","description":"+1 Card\n+2 Actions\nReveal the top 3 cards of your deck. Put the Actions back on top in any order and discard the rest."},{"name":"Band of Misfits","types":["Action"],"cost":"$5","description":"Play this as if it were a cheaper Action card in the Supply. This is that card until it leaves play."},{"name":"Bandit Camp","types":["Action"],"cost":"$5","description":"+1 Card\n+2 Actions\nGain a Spoils from the Spoils pile."},{"name":"Catacombs","types":["Action"],"cost":"$5","description":"Look at the top 3 cards of your deck. Choose one: Put them into your hand; or discard them and +3 Cards.\n----------\nWhen you trash this, gain a cheaper card."},{"name":"Count","types":["Action"],"cost":"$5","description":"Choose one: Discard 2 cards; or put a card from your hand onto your deck; or gain a Copper.\nChoose one: +$3; trash your hand; or gain a Duchy."},{"name":"Counterfeit","types":["Treasure"],"cost":"$5","description":"Worth $1\n+1 Buy\nWhen you play this, you may play a treasure from your hand twice. If you do, trash that treasure."},{"name":"Cultist","types":["Action","Attack","Looter"],"cost":"$5","description":"+2 Cards\nEach other player gains a Ruins. You may play a Cultist from your hand.\n----------\nWhen you trash this, +3 Cards."},{"name":"Graverobber","types":["Action"],"cost":"$5","description":"Choose one: Gain a card from the trash costing from $3 to $6, onto your deck; or trash an Action card from your hand and gain a card costing up to $3 more than it."},{"name":"Junk Dealer","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\n+$1\nTrash a card from your hand."},{"name":"Knights","types":["Action","Attack","Knight"],"cost":"$5","description":"Shuffle the Knights pile before each game with it. Keep it face down except for the top card, which is the only one that can be bought or gained."},{"name":"Mystic","types":["Action"],"cost":"$5","description":"+1 Action\n+$2\nName a card, then reveal the top card of your deck. If you named it, put it into your hand."},{"name":"Pillage","types":["Action","Attack"],"cost":"$5","description":"Trash this. Each other player with 5 or more cards in hand reveals their hand and discards a card that you choose. Gain 2 Spoils from the Spoils pile."},{"name":"Rebuild","types":["Action"],"cost":"$5","description":"+1 Action\nName a card. Reveal cards from your deck until you reveal a Victory card you did not name. Discard the rest, trash the Victory card, and gain a Victory card costing up to $3 more than it."},{"name":"Rogue","types":["Action","Attack"],"cost":"$5","description":"+$2\nIf there are any cards in the trash costing from $3 to $6, gain one of them. Otherwise, each other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest."},{"name":"Altar","types":["Action"],"cost":"$6","description":"Trash a card from your hand. Gain a card costing up to $5."},{"name":"Hunting Grounds","types":["Action"],"cost":"$6","description":"+4 Cards\n----------\nWhen you trash this, gain a Duchy or 3 Estates."}]},"knights":{"name":"Knights","info":"Shuffle the Knight pile before each game with it. Keep it face down except for the top card, which is the only one that can be bought or gained.","cards":[{"name":"Dame Anna","types":["Action","Attack","Knight"],"cost":"$5","description":"You may trash up to 2 cards from your hand.\nEach other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this."},{"name":"Dame Josephine","types":["Action","Attack","Victory","Knight"],"cost":"$5","description":"Each other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this.\n----------\nWorth 2VP"},{"name":"Dame Molly","types":["Action","Attack","Knight"],"cost":"$5","description":"+2 Actions\nEach other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this."},{"name":"Dame Natalie","types":["Action","Attack","Knight"],"cost":"$5","description":"You may gain a card costing up to $3.\nEach other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this."},{"name":"Dame Sylvia","types":["Action","Attack","Knight"],"cost":"$5","description":"+$2\nEach other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this."},{"name":"Sir Bailey","types":["Action","Attack","Knight"],"cost":"$5","description":"+1 Card\n+1 Action\nEach other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this."},{"name":"Sir Destry","types":["Action","Attack","Knight"],"cost":"$5","description":"+2 Cards\nEach other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this."},{"name":"Sir Martin","types":["Action","Attack","Knight"],"cost":"$4","description":"+2 Buys\nEach other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this."},{"name":"Sir Michael","types":["Action","Attack","Knight"],"cost":"$5","description":"Each other player discards down to 3 cards in hand.\nEach other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this."},{"name":"Sir Vander","types":["Action","Attack","Knight"],"cost":"$5","description":"Each other player reveals the top two cards of their deck, trashes one of them costing from $3 to $6, and discards the rest. If a Knight is trashed by this, trash this.\n----------\nWhen you trash this, gain a Gold."}]},"other":{"name":"other","info":"","cards":[{"name":"Madman","types":["Action"],"cost":"$0*","description":"+2 Actions\nReturn this to the Madman pile. If you do, +1 Card per card in your hand.\n(This is not in the Supply.)"},{"name":"Mercenary","types":["Action","Attack"],"cost":"$0*","description":"You may trash 2 cards from your hand. If you do, +2 Cards, +$2, and each other player discards down to 3 cards in hand.\n(This is not in the Supply.)"},{"name":"Spoils","types":["Treasure"],"cost":"$0*","description":"$3\nWhen you play this, return it to the pile.\n(This is not in the Supply.)"}]},"ruins":{"name":"Ruins","info":"","cards":[{"name":"Abandoned Mine","types":["Action","Ruins"],"cost":"$0","description":"+$1"},{"name":"Ruined Library","types":["Action","Ruins"],"cost":"$0","description":"+1 Card"},{"name":"Ruined Market","types":["Action","Ruins"],"cost":"$0","description":"+1 Buy"},{"name":"Ruined Village","types":["Action","Ruins"],"cost":"$0","description":"+1 Action"},{"name":"Survivors","types":["Action","Ruins"],"cost":"$0","description":"Look at the top 2 cards of your deck. Discard them or put them back in any order."}]},"shelters":{"name":"Shelters","info":"Replaces starting Estates","cards":[{"name":"Hovel","types":["Reaction","Shelter"],"cost":"$1","description":"When you buy a Victory card, you may trash this from your hand."},{"name":"Necropolis","types":["Action","Shelter"],"cost":"$1","description":"+2 Actions"},{"name":"Overgrown Estate","types":["Victory","Shelter"],"cost":"$1","description":"0VP\n----------\nWhen you trash this, +1 Card."}]}},"empires":{"castles":{"name":"Castles","info":"","cards":[{"name":"Humble Castle","types":["Treasure","Victory","Castle"],"cost":"$3","description":"Worth $1\n----------\nWorth 1VP per Castle you have."},{"name":"Crumbling Castle","types":["Victory","Castle"],"cost":"$4","description":"1VP\n----------\nWhen you gain or trash this, +1VP and gain a Silver."},{"name":"Small Castle","types":["Action","Victory","Castle"],"cost":"$5","description":"Trash this or a Castle from your hand. If you do, gain a Castle.\n----------\n2VP"},{"name":"Haunted Castle","types":["Victory","Castle"],"cost":"$6","description":"2VP\n----------\nWhen you gain this during your turn, gain a Gold, and each other player with 5 or more cards in hand puts 2 cards from their hand onto their deck."},{"name":"Opulent Castle","types":["Action","Victory","Castle"],"cost":"$7","description":"Discard any number of Victory cards. +$2 per card discarded.\n----------\n3VP"},{"name":"Sprawling Castle","types":["Victory","Castle"],"cost":"$8","description":"4VP\n----------\nWhen you gain this, gain a Duchy or 3 Estates."},{"name":"Grand Castle","types":["Victory","Castle"],"cost":"$9","description":"5VP\n----------\nWhen you gain this, reveal your hand. +1VP per Victory card in your hand and/or in play."},{"name":"King's Castle","types":["Victory","Castle"],"cost":"$10","description":"Worth 2VP per Castle you have."}]},"events":{"name":"Events","info":"","cards":[{"name":"Advance","types":["Event"],"cost":"$0","description":"You may trash an Action card from your hand. If you do, gain an Action card costing up to $6."},{"name":"Triumph","types":["Event"],"cost":"5Debt","description":"Gain an Estate. If you did, +1VP per card you've gained this turn."},{"name":"Annex","types":["Event"],"cost":"8Debt","description":"Look through your discard pile. Choose up to 5 cards from it and shuffle the rest into your deck. Gain a Duchy."},{"name":"Donate","types":["Event"],"cost":"8Debt","description":"After this turn, put all cards from your deck and discard pile into your hand, trash any number, shuffle your hand into your deck, then draw 5 cards."},{"name":"Delve","types":["Event"],"cost":"$2","description":"+1 Buy\nGain a Silver."},{"name":"Tax","types":["Event"],"cost":"$2","description":"Add 2Debt to a Supply pile.\nSetup: Add 1Debt to each Supply pile. When a player buys a card, they take the Debt from its pile."},{"name":"Banquet","types":["Event"],"cost":"$3","description":"Gain two Coppers and a non-Victory card costing up to $5."},{"name":"Ritual","types":["Event"],"cost":"$9","description":"Gain a Curse. If you do, trash a card from your hand. +1VP per $1 it cost."},{"name":"Salt the Earth","types":["Event"],"cost":"$4","description":"+1VP\nTrash a Victory card from the Supply."},{"name":"Wedding","types":["Event"],"cost":"$4+3Debt","description":"+1VP\nGain a Gold."},{"name":"Windfall","types":["Event"],"cost":"$5","description":"If your deck and discard pile are empty, gain 3 Golds."},{"name":"Conquest","types":["Event"],"cost":"$6","description":"Gain 2 Silvers. +1VP per Silver you've gained this turn."},{"name":"Dominate","types":["Event"],"cost":"$14","description":"Gain a Province. If you do, +9VP."}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Engineer","types":["Action"],"cost":"4Debt","description":"Gain a card costing up to $4. You may trash this. If you do, gain a card costing up to $4."},{"name":"City Quarter","types":["Action"],"cost":"8Debt","description":"+2 Actions\nReveal your hand. +1 Card per Action card revealed."},{"name":"Overlord","types":["Action","Command"],"cost":"8Debt","description":"Play a non-Command Action card from the Supply costing up to $5, leaving it there."},{"name":"Royal Blacksmith","types":["Action"],"cost":"8Debt","description":"+5 Cards\nReveal your hand; discard the Coppers."},{"name":"Encampment/Plunder","types":["Action","Treasure"],"cost":"$2","description":"Include the Encampment/Plunder pile."},{"name":"Patrician/Emporium","types":["Action"],"cost":"$2","description":"Include the Patrician/Emporium pile."},{"name":"Settlers/Bustling Village","types":["Action"],"cost":"$2","description":"Include the Settlers/Bustling Village pile."},{"name":"Castles","types":["Victory","Castle"],"cost":"$3","description":"Sort the castle pile by cost, putting the more expensive Castles on the bottom. For a 2-player game, us only one of each Castle. Only the top card of the pile can be gained or bought."},{"name":"Catapult/Rocks","types":["Action","Attack","Treasure"],"cost":"$3","description":"Include the Catapult/Rocks pile."},{"name":"Chariot Race","types":["Action"],"cost":"$3","description":"+1 Action\nReveal the top card of your deck and put it into your hand. The player to your left reveals the top card of their deck. If your card costs more, +$1 and +1VP."},{"name":"Enchantress","types":["Action","Attack","Duration"],"cost":"$3","description":"Until your next turn, the first time each other player plays an Action card on their turn, they get +1 Card and +1 Action instead of following its instructions.\nAt the start of your next turn, +2 Cards."},{"name":"Farmers' Market","types":["Action","Gathering"],"cost":"$3","description":"+1 Buy\nIf there are 4VP or more on the Farmers' Market Supply pile, take them and trash this. Otherwise, add 1VP to the pile and then +$1 per 1VP on the pile."},{"name":"Gladiator/Fortune","types":["Action","Treasure"],"cost":"$3","description":"Include the Gladiator/Fortune pile."},{"name":"Sacrifice","types":["Action"],"cost":"$4","description":"Trash a card from your hand. If it's an...\nAction card, +2 Cards, +2 Actions\nTreasure card, +$2\nVictory card, +2VP"},{"name":"Temple","types":["Action","Gathering"],"cost":"$4","description":"+1VP\nTrash from 1 to 3 differently named cards from your hand. Add 1VP to the Temple Supply pile.\n----------\nWhen you gain this, take the VP from the Temple Supply pile."},{"name":"Villa","types":["Action"],"cost":"$4","description":"+2 Actions\n+1 Buy\n+$1\n----------\nWhen you gain this, put it into your hand, +1 Action, and if it's your Buy phase return to your Action phase."},{"name":"Archive","types":["Action","Duration"],"cost":"$5","description":"+1 Action\nSet aside the top 3 cards of your deck face down (you may look at them). Now and at the start of your next two turns, put one into your hand."},{"name":"Capital","types":["Treasure"],"cost":"$5","description":"Worth $6\n+1 Buy\n----------\nWhen you discard this from play, take 6Debt, and then you may pay off Debt."},{"name":"Charm","types":["Treasure"],"cost":"$5","description":"Choose one: +1 Buy and +$2; or the next time you gain a card this turn, you may also gain a differently named card with the same cost."},{"name":"Crown","types":["Action","Treasure"],"cost":"$5","description":"If it's your Action phase, you may play an Action from your hand twice.\nIf it's your Buy phase, you may play a Treasure from your hand twice."},{"name":"Forum","types":["Action"],"cost":"$5","description":"+3 Cards\n+1 Action\nDiscard 2 cards.\n----------\nWhen you buy this, +1 Buy."},{"name":"Groundskeeper","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\nThis turn, when you gain a Victory card, +1VP."},{"name":"Legionary","types":["Action","Attack"],"cost":"$5","description":"+$3\nYou may reveal a Gold from your hand. If you do, each other player discards down to 2 cards in hand, then draws a card."},{"name":"Wild Hunt","types":["Action","Gathering"],"cost":"$5","description":"Choose one: +3 Cards and add 1VP to the Wild Hunt Supply pile; or gain an Estate, and if you do, take the VP from the pile."}]},"landmarks":{"name":"Landmarks","info":"","cards":[{"name":"Aqueduct","types":["Landmark"],"cost":"","description":"When you gain a Treasure, move 1VP from its pile to this.\nWhen you gain a Victory card, take the VP from this.\nSetup: Put 8VP on the Silver and Gold piles."},{"name":"Arena","types":["Landmark"],"cost":"","description":"At the start of your Buy phase, you may discard an Action card. If you do, take 2VP from here.\nSetup: Put 6VP here per player."},{"name":"Bandit Fort","types":["Landmark"],"cost":"","description":"When scoring, -2VP for each Silver and each Gold you have."},{"name":"Basilica","types":["Landmark"],"cost":"","description":"When you buy a card, if you have $2 or more left, take 2VP from here.\nSetup: Put 6VP here per player."},{"name":"Baths","types":["Landmark"],"cost":"","description":"When you end your turn without having gained a card, take 2VP from here.\nSetup: Put 6VP here per player."},{"name":"Battlefield","types":["Landmark"],"cost":"","description":"When you gain a Victory card, take 2VP from here.\nSetup: Put 6VP here per player."},{"name":"Colonnade","types":["Landmark"],"cost":"","description":"When you buy an Action card, if you have a copy of it in play, take 2VP from here.\nSetup: Put 6VP here per player."},{"name":"Defiled Shrine","types":["Landmark"],"cost":"","description":"When you gain an Action, move 1VP from its pile to this.\nWhen you buy a Curse, take the VP from this.\nSetup: Put 2VP on each non-Gathering Action Supply pile."},{"name":"Fountain","types":["Landmark"],"cost":"","description":"When scoring, 15VP if you have at least 10 Coppers."},{"name":"Keep","types":["Landmark"],"cost":"","description":"When scoring, 5VP per differently named Treasure you have, that you have more copies of than each other player, or tied for most."},{"name":"Labyrinth","types":["Landmark"],"cost":"","description":"When you gain a 2nd card in one of your turns, take 2VP from here.\nSetup: Put 6VP here per player."},{"name":"Mountain Pass","types":["Landmark"],"cost":"","description":"When you are the first player to gain a Province, after that turn, each player bids once, up to 40Debt, ending with you. High bidder gets +8VP and takes the Debt they bid."},{"name":"Museum","types":["Landmark"],"cost":"","description":"When scoring, 2VP per differently named card you have."},{"name":"Obelisk","types":["Landmark"],"cost":"","description":"When scoring, 2VP per card you have from the chosen pile.\nSetup: Choose a random Action Supply pile."},{"name":"Orchard","types":["Landmark"],"cost":"","description":"When scoring, 4VP per differently named Action card you have 3 or more copies of."},{"name":"Palace","types":["Landmark"],"cost":"","description":"When scoring, 3VP per set you have of Copper-Silver-Gold."},{"name":"Tomb","types":["Landmark"],"cost":"","description":"When you trash a card, +1VP."},{"name":"Tower","types":["Landmark"],"cost":"","description":"When scoring, 1VP per non-Victory card you have from an empty Supply pile."},{"name":"Triumphal Arch","types":["Landmark"],"cost":"","description":"When scoring, 3VP per copy you have of the 2nd most common Action card among your cards (if it's a tie, count either)."},{"name":"Wall","types":["Landmark"],"cost":"","description":"When scoring, -1VP per card you have after the first 15."},{"name":"Wolf Den","types":["Landmark"],"cost":"","description":"When scoring, -3VP per card you have exactly one copy of."}]},"other":{"name":"Other","info":"","cards":[{"name":"Encampment","types":["Action"],"cost":"$2","description":"+2 Cards\n+2 Actions\nYou may reveal a Gold or Plunder from your hand. If you do not, set this aside, and return it to the Supply at the start of Clean-up.\n(This is the top half of the Encampment/Plunder pile.)"},{"name":"Plunder","types":["Treasure"],"cost":"$5","description":"Worth $2\n+1VP\n(This is the bottom half of the Encampment/Plunder pile.)"},{"name":"Patrician","types":["Action"],"cost":"$2","description":"+1 Card\n+1 Action\nReveal the top card of your deck. If it costs $5 or more, put it into your hand.\n(This is the top half of the Patrician/Emporium pile.)"},{"name":"Emporium","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\n+$1\n----------\nWhen you gain this, if you have at least 5 Action cards in play, +2VP.\n(This is the bottom half of the Patrician/Emporium pile.)"},{"name":"Settlers","types":["Action"],"cost":"$2","description":"+1 Card\n+1 Action\nLook through your discard pile. You may reveal a Copper from it and put it into your hand.\n(This is the top half of the Settlers/Bustling Village pile.)"},{"name":"Bustling Village","types":["Action"],"cost":"$5","description":"+1 Card\n+3 Actions\nLook through your discard pile. You may reveal a Settlers from it and put it into your hand.\n(This is the bottom half of the Settlers/Bustling Village pile.)"},{"name":"Catapult","types":["Action","Attack"],"cost":"$3","description":"+$1\nTrash a card from your hand. If it costs $3 or more, each other player gains a Curse. If it's a Treasure, each other player discards down to 3 cards in hand.\n(This is the top half of the Catapult/Rocks pile.)"},{"name":"Rocks","types":["Treasure"],"cost":"$4","description":"Worth $1\n----------\nWhen you gain or trash this: If it's your Buy phase, gain a Silver on your deck, otherwise gain a Silver to your hand.\n(This is the bottom half of the Catapult/Rocks pile.)"},{"name":"Gladiator","types":["Action"],"cost":"$3","description":"+$2\nReveal a card from your hand. The player to your left may reveal a copy from their hand. If they do not, +$1 and trash a Gladiator from the Supply.\n(This is the top half of the Gladiator/Fortune pile.)"},{"name":"Fortune","types":["Treasure"],"cost":"$8+8Debt","description":"+1 Buy\nWhen you play this, double your $ if you haven't yet this turn.\n----------\nWhen you gain this, gain a Gold per Gladiator you have in play.\n(This is the bottom half of the Gladiator/Fortune pile.)"}]}},"guilds":{"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Candlestick Maker","types":["Action"],"cost":"$2","description":"+1 Action\n+1 Buy\nTake a Coin token."},{"name":"Stonemason","types":["Action"],"cost":"$2+","description":"Trash a card from your hand. Gain 2 cards each costing less than it.\n----------\nWhen you buy this, you may overpay for it. If you do, gain 2 Action cards each costing the amount you overpaid."},{"name":"Doctor","types":["Action"],"cost":"$3+","description":"Name a card. Reveal the top 3 cards of your deck. Trash the matches. Put the rest back in any order.\n----------\nWhen you buy this, you may overpay for it. For each $1 you overpaid, look at the top card of your deck; trash it, discard it, or put it back."},{"name":"Masterpiece","types":["Treasure"],"cost":"$3+","description":"Worth $1\n----------\nWhen you buy this, you may overpay for it. For each $1 you overpaid, gain a Silver."},{"name":"Advisor","types":["Action"],"cost":"$4","description":"+1 Action\nReveal the top 3 cards of your deck. The player to your left chooses one of them. Discard that card and put the rest into your hand."},{"name":"Herald","types":["Action"],"cost":"$4+","description":"+1 Card\n+1 Action\nReveal the top card of your deck. If it is an Action, play it.\n----------\nWhen you buy this, you may overpay for it. For each $1 you overpaid, look through your discard pile and put a card from it onto your deck."},{"name":"Plaza","types":["Action"],"cost":"$4","description":"+1 Card\n+2 Actions\nYou may discard a Treasure to take a Coin token."},{"name":"Taxman","types":["Action","Attack"],"cost":"$4","description":"You may trash a Treasure from your hand. Each other player with 5 or more cards in hand discards a copy of it (or reveals they can't). Gain a Treasure onto your deck costing up to $3 more than it."},{"name":"Baker","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\nTake a Coin token.\n----------\nSetup: Each player takes a Coin token."},{"name":"Butcher","types":["Action"],"cost":"$5","description":"Take 2 Coin tokens. You may trash a card from your hand. If you do, pay any number of Coin tokens, and gain a card with a cost of up to the cost of the trashed card plus the number of Coin tokens you paid."},{"name":"Journeyman","types":["Action"],"cost":"$5","description":"Name a card. Reveal cards from your deck until you reveal 3 cards without that name. Put those cards into your hand and discard the rest."},{"name":"Merchant Guild","types":["Action"],"cost":"$5","description":"+1 Buy\n+$1\n----------\nWhile this is in play, when you buy a card, take a Coin token."},{"name":"Soothsayer","types":["Action","Attack"],"cost":"$5","description":"Gain a Gold. Each other player gains a Curse, and if they did, draws a card."}]}},"hinterlands":{"in-1st-not-2nd":{"name":"In 1st Not 2nd","info":"","cards":[{"name":"Duchess","types":["Action"],"cost":"$2","description":"+$2\nEach player (including you) looks at the top card of their deck and may discard it.\n----------\nIf Duchess is in the Supply, you may gain one when you gain a Duchy."},{"name":"Oracle","types":["Action","Attack"],"cost":"$3","description":"Each player (including you) reveals the top 2 cards of their deck, and discards them or puts them back, your choice. They choose the order to return them. Afterwards, you draw 2 cards."},{"name":"Noble Brigand","types":["Action","Attack"],"cost":"$4","description":"+$1\nWhen you buy or play this, each other player reveals the top 2 cards of their deck, trashes a revealed Silver or Gold you choose, discards the rest, and gains a Copper if they didn't reveal a Treasure. You gain the trashed cards."},{"name":"Nomad Camp","types":["Action"],"cost":"$4","description":"+1 Buy\n+$2\n----------\nThis is gained onto your deck (instead of to your discard pile)."},{"name":"Silk Road","types":["Victory"],"cost":"$4","description":"Worth 1VP per 4 Victory cards you have (round down)."},{"name":"Cache","types":["Treasure"],"cost":"$5","description":"Worth $3\n----------\nWhen you gain this, gain 2 Coppers."},{"name":"Embassy","types":["Action"],"cost":"$5","description":"+5 Cards\nDiscard 3 cards.\n----------\nWhen you gain this, each other player gains a Silver."},{"name":"Ill-Gotten Gains","types":["Treasure"],"cost":"$5","description":"Worth $1\nWhen you play this, you may gain a Copper to your hand.\n----------\nWhen you gain this, each other player gains a Curse."},{"name":"Mandarin","types":["Action"],"cost":"$5","description":"+$3\nPut a card from your hand on top of your deck.\n----------\nWhen you gain this, put all Treasures you have in play onto your deck in any order."}]},"in-2nd-not-1st":{"name":"In 2nd Not 1st","info":"","cards":[{"name":"Guard Dog","types":["Action","Reaction"],"cost":"$3","description":"+2 Cards\nIf you have 5 or fewer cards in hand, +2 Cards.\n----------\nWhen another player plays an Attack, you may first play this from your hand."},{"name":"Nomads","types":["Action"],"cost":"$4","description":"+1 Buy\n+$2\n----------\nWhen you gain or trash this, +$2."},{"name":"Trail","types":["Action","Reaction"],"cost":"$4","description":"+1 Card\n+1 Action\n----------\nWhen you gain, trash, or discard this, other than in Clean-up, you may play it."},{"name":"Weaver","types":["Action","Reaction"],"cost":"$4","description":"Gain two Silvers or a card costing up to $4.\n----------\nWhen you discard this other than in Clean-up, you may play it."},{"name":"Berserker","types":["Action","Attack"],"cost":"$5","description":"Gain a card costing less than this. Each other player discards down to 3 cards in hand.\n----------\nWhen you gain this, if you have an Action in play, play this."},{"name":"Cauldron","types":["Treasure","Attack"],"cost":"$5","description":"Worth $2\n+1 Buy\nThe third time you gain an Action this turn, each other player gains a curse."},{"name":"Souk","types":["Action"],"cost":"$5","description":"+1 Buy\n+$7\n-$1 per card in your hand (you can't go below $0).\n----------\nWhen you gain this, trash up to 2 cards from your hand."},{"name":"Wheelwright","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\nYou may discard a card to gain an Action card costing as much as it or less."},{"name":"Witch's Hut","types":["Action","Attack"],"cost":"$5","description":"+4 Cards\nDiscard 2 cards, revealed. If they're both Actions, each other player gains a Curse."}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Crossroads","types":["Action"],"cost":"$2","description":"Reveal your hand. +1 Card per Victory card revealed. If this is the first time you played a Crossroads this turn, +3 Actions."},{"name":"Fool's Gold","types":["Treasure","Reaction"],"cost":"$2","description":"Worth $1 if it's the first time you played a Fool's Gold this turn, otherwise worth $4.\n----------\nWhen another player gains a Province, you may trash this from your hand, to gain a Gold onto your deck."},{"name":"Develop","types":["Action"],"cost":"$3","description":"Trash a card from your hand. Gain two cards onto your deck, with one costing exactly $1 more than it, and one costing exactly $1 less than it, in either order."},{"name":"Oasis","types":["Action"],"cost":"$3","description":"+1 Card\n+1 Action\n+$1\nDiscard a card."},{"name":"Scheme","types":["Action"],"cost":"$3","description":"+1 Card\n+1 Action\nThis turn, you may put one of your Action cards onto your deck when you discard it from play."},{"name":"Tunnel","types":["Victory","Reaction"],"cost":"$3","description":"2VP\n----------\nWhen you discard this other than during Clean-up, you may reveal it to gain a Gold."},{"name":"Jack of All Trades","types":["Action"],"cost":"$4","description":"Gain a Silver.\nLook at the top card of your deck; you may discard it.\nDraw until you have 5 cards in hand.\nYou may trash a non-Treasure card from your hand."},{"name":"Spice Merchant","types":["Action"],"cost":"$4","description":"You may trash a Treasure from your hand. If you do, choose one:\n+2 Cards and +1 Action; or +1 Buy and $2."},{"name":"Trader","types":["Action","Reaction"],"cost":"$4","description":"Trash a card from your hand. Gain a Silver per $1 it costs.\n----------\nWhen you would gain a card, you may reveal this from your hand, to instead gain a Silver."},{"name":"Cartographer","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\nLook at the top 4 cards of your deck. Discard any number of them, then put the rest back in any order."},{"name":"Haggler","types":["Action"],"cost":"$5","description":"+$2\n----------\nWhile this is in play, when you buy a card, gain a cheaper non-Victory card."},{"name":"Highway","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\n----------\nWhile this is in play, cards cost $1 less, but not less than $0."},{"name":"Inn","types":["Action"],"cost":"$5","description":"+2 Cards\n+2 Actions\nDiscard 2 cards.\n----------\nWhen you gain this, look through your discard pile, reveal any number of Action cards from it (which can include this), and shuffle them into your deck."},{"name":"Margrave","types":["Action","Attack"],"cost":"$5","description":"+3 Cards\n+1 Buy\nEach other player draws a card, then discards down to 3 cards in hand."},{"name":"Stables","types":["Action"],"cost":"$5","description":"You may discard a Treasure, for +3 Cards and +1 Action."},{"name":"Border Village","types":["Action"],"cost":"$6","description":"+1 Card\n+2 Actions\n----------\nWhen you gain this, gain a cheaper card."},{"name":"Farmland","types":["Victory"],"cost":"$6","description":"2VP\n----------\nWhen you buy this, trash a card from your hand and gain a card costing exactly $2 more than it."}]}},"intrigue":{"in-1st-not-2nd":{"name":"In 1st Not 2nd","info":"","cards":[{"name":"Secret Chamber","types":["Action","Reaction"],"cost":"$2","description":"Discard any number of cards. +$1 per card discarded.\nWhen another player plays an Attack card, you may reveal this from your hand. If you do, +2 cards, then put 2 cards from your hand on top of your deck."},{"name":"Great Hall","types":["Action","Victory"],"cost":"$3","description":"1VP\n+1 Card\n+1 Action"},{"name":"Coppersmith","types":["Action"],"cost":"$4","description":"Copper produces an extra $1 this turn."},{"name":"Scout","types":["Action"],"cost":"$4","description":"+1 Action\nReveal the top 4 cards of your deck. Put the revealed Victory cards into your hand. Put the other cards on top of your deck in any order."},{"name":"Saboteur","types":["Action","Attack"],"cost":"$5","description":"Each other player reveals cards from the top of his deck until revealing one costing $3 or more. He trashes that card and may gain a card costing at most $2 less than it. He discards the other revealed cards."},{"name":"Tribute","types":["Action"],"cost":"$5","description":"The player to your left reveals then discards the top 2 cards of his deck. For each differently named card revealed, if it is an... Action Card; +2 Actions; Treasure Card; +$2; Victory Card; +2 Cards."}]},"in-2nd-not-1st":{"name":"In 2nd Not 1st","info":"","cards":[{"name":"Lurker","types":["Action"],"cost":"$2","description":"+1 Action\nChoose one: Trash an Action card from the Supply; or gain an Action card from the trash."},{"name":"Diplomat","types":["Action","Reaction"],"cost":"$4","description":"+2 Cards\nIf you have 5 or fewer cards in hand (after drawing), +2 Actions.\n----------\nWhen another player plays an Attack card, you may reveal this from a hand of 5 or more cards, to draw 2 cards then discard 3."},{"name":"Mill","types":["Action","Victory"],"cost":"$4","description":"+1 Card\n+1 Action\nYou may discard 2 cards, for +$2.\n----------\n1VP"},{"name":"Secret Passage","types":["Action"],"cost":"$4","description":"+2 Cards\n+1 Action\nTake a card from your hand and put it anywhere in your deck."},{"name":"Courtier","types":["Action"],"cost":"$5","description":"Reveal a card from your hand. For each type it has (Action, Attack, etc.), choose one: +1 Action; or +1 Buy; or +$3; or gain a Gold. The choices must be different."},{"name":"Patrol","types":["Action"],"cost":"$5","description":"+3 Cards\nReveal the top 4 cards of your deck. Put the Victory cards and Curses into your hand. Put the rest back in any order."},{"name":"Replace","types":["Action","Attack"],"cost":"$5","description":"Trash a card from your hand. Gain a card costing up to $2 more than it. If the gained card is an Action or Treasure, put it onto your deck; if it's a Victory card, each other player gains a Curse."}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Courtyard","types":["Action"],"cost":"$2","description":"+3 Cards\nPut a card from your hand onto your deck."},{"name":"Pawn","types":["Action"],"cost":"$2","description":"Choose two: +1 Card; +1 Action; +1 Buy; +$1. The choices must be different."},{"name":"Masquerade","types":["Action"],"cost":"$3","description":"+2 Cards\nEach player with any cards in hand passes one to the next such player to their left, at once. Then you may trash a card from your hand."},{"name":"Shanty Town","types":["Action"],"cost":"$3","description":"+2 Actions\nReveal your hand. If you have no Action cards in hand, +2 Cards."},{"name":"Steward","types":["Action"],"cost":"$3","description":"Choose one: +2 Cards; or +$2; or trash 2 cards from your hand."},{"name":"Swindler","types":["Action","Attack"],"cost":"$3","description":"+$2\nEach other player trashes the top card of their deck and gains a card with the same cost that you choose."},{"name":"Wishing Well","types":["Action"],"cost":"$3","description":"+1 Card; +1 Action\nName a card, then reveal the top card of your deck. If you name it, put it in your hand."},{"name":"Baron","types":["Action"],"cost":"$4","description":"+1 Buy\nYou may discard an Estate for +$4. If you don't gain an Estate."},{"name":"Bridge","types":["Action"],"cost":"$4","description":"+1 Buy\n+$1\nThis turn, cards (everywhere) cost $1 less, but not less than $0."},{"name":"Conspirator","types":["Action"],"cost":"$4","description":"+$2\nIf you've played 3 or more Actions this turn (counting this), +1 Card and +1 Action."},{"name":"Ironworks","types":["Action"],"cost":"$4","description":"Gain a card costing up to $4. If the gained card is an...\nAction card, +1 Action\nTreasure card, +$1\nVictory card, +1 Card"},{"name":"Mining Village","types":["Action"],"cost":"$4","description":"+1 Card\n+2 Actions\nYou may trash this for +$2."},{"name":"Duke","types":["Victory"],"cost":"$5","description":"Worth 1VP per Duchy you have."},{"name":"Minion","types":["Action","Attack"],"cost":"$5","description":"+1 Action\nChoose one: +$2; or discard your hand, +4 Cards, and each other player with at least 5 cards in hand discards their hand and draws 4 cards."},{"name":"Torturer","types":["Action","Attack"],"cost":"$5","description":"+3 Cards\nEach other player either discards 2 cards or gains a Curse to their hand, their choice. (They may pick an option they can't do.)"},{"name":"Trading Post","types":["Action"],"cost":"$5","description":"Trash 2 cards from your hand. If you did, gain a Silver to your hand."},{"name":"Upgrade","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\nTrash a card from your hand. Gain a card costing exactly $1 more than it."},{"name":"Harem","types":["Treasure","Victory"],"cost":"$6","description":"$2\n----------\n2VP"},{"name":"Nobles","types":["Action","Victory"],"cost":"$6","description":"Choose one: +3 Cards; or +2 Actions.\n----------\n2VP"}]}},"menagerie":{"events":{"name":"Events","info":"","cards":[{"name":"Delay","types":["Event"],"cost":"$0","description":"You may set aside an Action card from your hand. At the start of your next turn, play it."},{"name":"Desperation","types":["Event"],"cost":"$0","description":"Once per turn: You may gain a Curse. If you do, +1 Buy and +$2."},{"name":"Gamble","types":["Event"],"cost":"$2","description":"+1 Buy\nReveal the top card of your deck. If it's a Treasure or Action, you may play it. Otherwise, discard it."},{"name":"Pursue","types":["Event"],"cost":"$2","description":"+1 Buy\nName a card. Reveal the top 4 cards from your deck. Put the matches back and discard the rest."},{"name":"Ride","types":["Event"],"cost":"$2","description":"Gain a Horse."},{"name":"Toil","types":["Event"],"cost":"$2","description":"+1 Buy\nYou may play an action card from your hand."},{"name":"Enhance","types":["Event"],"cost":"$3","description":"You may trash a non-Victory card from your hand, to gain a card costing up to $2 more than it."},{"name":"March","types":["Event"],"cost":"$3","description":"Look through your discard pile.\nYou may play an Action card from it."},{"name":"Transport","types":["Event"],"cost":"$3","description":"Choose one; Exile an Action card from the Supply; or put an Action card you have in Exile onto your deck."},{"name":"Banish","types":["Event"],"cost":"$4","description":"Exile any number of cards with the same name from your hand."},{"name":"Bargain","types":["Event"],"cost":"$4","description":"Gain a non-Victory card costing up to $5.\nEach other player gains a Horse."},{"name":"Invest","types":["Event"],"cost":"$4","description":"Exile an Action card from the Supply.\nWhile it's in Exile, when another player gains or Invests in a copy of it, +2 Cards."},{"name":"Seize the Day","types":["Event"],"cost":"$4","description":"Once per game:\nTake an extra turn after this one."},{"name":"Commerce","types":["Event"],"cost":"$5","description":"Gain a gold per differently named card you've gained this turn."},{"name":"Demand","types":["Event"],"cost":"$5","description":"Gain a Horse and a card costing up to $4, both onto your deck."},{"name":"Stampede","types":["Event"],"cost":"$5","description":"If you have 5 or fewer cards in play, gain 5 Horses onto your deck."},{"name":"Reap","types":["Event"],"cost":"$7","description":"Gain a Gold. Set it aside. If you do, at the start of your next turn, play it."},{"name":"Enclave","types":["Event"],"cost":"$8","description":"Gain a Gold. Exile a Duchy from the Supply."},{"name":"Alliance","types":["Event"],"cost":"$10","description":"Gain a Province, a Duchy, an Estate, a Gold, a Silver, and a Copper."},{"name":"Populate","types":["Event"],"cost":"$10","description":"Gain one card from each Action Supply pile."}]},"horse":{"name":"Horse","info":"","cards":[{"name":"Horse","types":["Action"],"cost":"$3*","description":"+2 Cards\n+1 Action\nReturn this to its pile.\n(This is not in the Supply.)"}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Black Cat","types":["Action","Attack","Reaction"],"cost":"$2","description":"+2 Cards\nIf it isn't your turn, each other player gains a Curse.\n----------\nWhen another player gains a victory card, you may play this from your hand."},{"name":"Sleigh","types":["Action","Reaction"],"cost":"$2","description":"Gain 2 Horses.\n----------\nWhen you gain a card, you may discard this, to put that card into your hand or onto your deck."},{"name":"Supplies","types":["Treasure"],"cost":"$2","description":"Worth $1\nWhen you play this, gain a Horse onto your deck."},{"name":"Camel Train","types":["Action"],"cost":"$3","description":"Exile a non-Victory card from the Supply.\n----------\nWhen you gain this, Exile a Gold from the Supply."},{"name":"Goatherd","types":["Action"],"cost":"$3","description":"+1 Action\nYou may trash a card from your hand.\n+1 Card per card the player to your right trashed on their last turn."},{"name":"Scrap","types":["Action"],"cost":"$3","description":"Trash a card from your hand. Choose a different thing per $1 it costs: +1 Card; +1 Action; +1 Buy; +$1; gain a Silver; gain a Horse."},{"name":"Sheepdog","types":["Action","Reaction"],"cost":"$3","description":"+2 Cards\n----------\nWhen you gain a card, you may play this from your hand."},{"name":"Snowy Village","types":["Action"],"cost":"$3","description":"+1 Card\n+4 Actions\n+1 Buy\nIgnore any further +Actions you get this turn."},{"name":"Stockpile","types":["Treasure"],"cost":"$3","description":"$3\n+1 Buy\nWhen you play this, Exile it."},{"name":"Bounty Hunter","types":["Action"],"cost":"$4","description":"+1 Action\nExile a card from your hand. If you don't have a copy of it in Exile, +$3."},{"name":"Cardinal","types":["Action","Attack"],"cost":"$4","description":"+$2\nEach other player reveals the top 2 cards of their deck, Exiles one costing from $3 to $6, and discards the rest."},{"name":"Cavalry","types":["Action"],"cost":"$4","description":"Gain 2 Horses.\n----------\nWhen you gain this, +2 Cards, +1 Buy, and if it's your Buy Phase return to your Action phase."},{"name":"Groom","types":["Action"],"cost":"$4","description":"Gain a card costing up to $4. If it's an...\nAction card, gain a Horse; Treasure card, gain a Silver; Victory card, +1 Card and +1 Action."},{"name":"Hostelry","types":["Action"],"cost":"$4","description":"+1 Card\n+2 Actions\n----------\nWhen you gain this, you may discard any number of Treasures, revealed, to gain that many Horses."},{"name":"Village Green","types":["Action","Duration","Reaction"],"cost":"$4","description":"Either now or at the start of your next turn, +1 Card and +2 Actions.\n----------\nWhen you discard this other than during Clean-up, you may play it."},{"name":"Barge","types":["Action","Duration"],"cost":"$5","description":"Either now or at the start of your next turn, +3 Cards and +1 Buy."},{"name":"Coven","types":["Action","Attack"],"cost":"$5","description":"+1 Action\n+$2\nEach other player Exiles a Curse from the Supply. If they can't, they discard their Exiled Curses."},{"name":"Displace","types":["Action"],"cost":"$5","description":"Exile a card from your hand. Gain a differently named card costing up to $2 more than it."},{"name":"Falconer","types":["Action","Reaction"],"cost":"$5","description":"Gain a card to your hand costing less than this.\n----------\nWhen any player gains a card with 2 or more types (Action, Attack, etc.), you may play this from your hand."},{"name":"Gatekeeper","types":["Action","Duration","Attack"],"cost":"$5","description":"At the start of your next turn, +$3. Until then, when another player gains an Action or Treasure card if they don't have an Exiled copy of it, they Exile it."},{"name":"Hunting Lodge","types":["Action"],"cost":"$5","description":"+1 Card\n+2 Actions\nYou may discard your hand for +5 Cards."},{"name":"Kiln","types":["Action"],"cost":"$5","description":"+$2\nThe next time you play a card this turn, you may first gain a copy of it."},{"name":"Livery","types":["Action"],"cost":"$5","description":"+$3\nThis turn, when you gain a card costing $4 or more, gain a Horse."},{"name":"Mastermind","types":["Action","Duration"],"cost":"$5","description":"At the start of your next turn, you may play an Action card from your hand three times."},{"name":"Paddock","types":["Action"],"cost":"$5","description":"+$2\nGain 2 Horses.\n+1 Action per empty Supply pile."},{"name":"Sanctuary","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\n+1 Buy\nYou may Exile a card from your hand."},{"name":"Fisherman","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\n+$1\n----------\nDuring your turns, if your discard pile is empty, this costs $3 less."},{"name":"Destrier","types":["Action"],"cost":"$6","description":"+2 Cards\n+1 Action\n----------\nDuring your turns, this costs $1 less per card you've gained this turn."},{"name":"Wayfarer","types":["Action"],"cost":"$6","description":"+3 Cards\nYou may gain a Silver.\n----------\nThis has the same cost as the last other card gained this turn, if any."},{"name":"Animal Fair","types":["Action"],"cost":"$7","description":"+$4\n+1 Buy per empty supply pile.\n----------\nInstead of paying this card's cost, you may trash an Action card from your hand."}]},"ways":{"name":"Ways","info":"20 cards, 1 of each","cards":[{"name":"Way of the Butterfly","types":["Way"],"cost":"","description":"You may return this to its pile to gain a card costing exactly $1 more than it."},{"name":"Way of the Camel","types":["Way"],"cost":"","description":"Exile a Gold from the Supply."},{"name":"Way of the Chameleon","types":["Way"],"cost":"","description":"Follow this card's instructions;\neach time that would give you +Cards this turn, you get +$ instead, and vice-versa."},{"name":"Way of the Frog","types":["Way"],"cost":"","description":"+1 Action\nWhen you discard this from play this turn, put it onto your deck."},{"name":"Way of the Goat","types":["Way"],"cost":"","description":"Trash a card from your hand."},{"name":"Way of the Horse","types":["Way"],"cost":"","description":"+2 Cards\n+1 Action\nReturn this to its pile."},{"name":"Way of the Mole","types":["Way"],"cost":"","description":"+1 Action\nDiscard your hand. +3 Cards."},{"name":"Way of the Monkey","types":["Way"],"cost":"","description":"+1 Buy\n+$1"},{"name":"Way of the Mouse","types":["Way"],"cost":"","description":"Play the set-aside card, leaving it here.\n----------\nSetup: Set aside an unused Action costing $2 or $3."},{"name":"Way of the Mule","types":["Way"],"cost":"","description":"+1 Action\n+$1"},{"name":"Way of the Otter","types":["Way"],"cost":"","description":"+2 Cards"},{"name":"Way of the Owl","types":["Way"],"cost":"","description":"Draw until you have 6 cards in hand."},{"name":"Way of the Ox","types":["Way"],"cost":"","description":"+2 Actions"},{"name":"Way of the Pig","types":["Way"],"cost":"","description":"+1 Card\n+1 Action"},{"name":"Way of the Rat","types":["Way"],"cost":"","description":"You may discard a Treasure to gain a copy of this."},{"name":"Way of the Seal","types":["Way"],"cost":"","description":"+$1\nThis turn, when you gain a card, you may put it onto your deck."},{"name":"Way of the Sheep","types":["Way"],"cost":"","description":"+$2"},{"name":"Way of the Squirrel","types":["Way"],"cost":"","description":"+2 Cards at the end of this turn."},{"name":"Way of the Turtle","types":["Way"],"cost":"","description":"Set this aside. If you did, play it at the start of your next turn."},{"name":"Way of the Worm","types":["Way"],"cost":"","description":"Exile an Estate from the Supply."}]}},"nocturne":{"boons":{"name":"Boons","info":"","cards":[{"name":"The Earth's Gift","types":["Boon"],"cost":"","description":"You may discard a Treasure card to gain a card costing up to $4."},{"name":"The Field's Gift","types":["Boon"],"cost":"","description":"+1 Action\n+$1\n(Keep this until Clean-up.)"},{"name":"The Flame's Gift","types":["Boon"],"cost":"","description":"You may trash a card from your hand."},{"name":"The Forest's Gift","types":["Boon"],"cost":"","description":"+1 Buy\n+$1\n(Keep this until Clean-up.)"},{"name":"The Moon's Gift","types":["Boon"],"cost":"","description":"Look through your discard pile, you may put a card from it onto your deck."},{"name":"The Mountain's Gift","types":["Boon"],"cost":"","description":"Gain a Silver."},{"name":"The River's Gift","types":["Boon"],"cost":"","description":"+1 Card at the end of this turn.\n(Keep this until Clean-up.)"},{"name":"The Sea's Gift","types":["Boon"],"cost":"","description":"+1 Card"},{"name":"The Sky's Gift","types":["Boon"],"cost":"","description":"You may discard 3 cards to gain a Gold."},{"name":"The Sun's Gift","types":["Boon"],"cost":"","description":"Look at the top 4 cards of your deck. Discard any number of them and put the rest back in any order."},{"name":"The Swamp's Gift","types":["Boon"],"cost":"","description":"Gain a Will-O'-Wisp from its pile."},{"name":"The Wind's Gift","types":["Boon"],"cost":"","description":"+2 Cards\nDiscard 2 cards."}]},"heirlooms":{"name":"Heirlooms","info":"","cards":[{"name":"Goat","types":["Treasure","Heirloom"],"cost":"$2","description":"Worth $1\nWhen you play this, you may trash a card from your hand."},{"name":"Pouch","types":["Treasure","Heirloom"],"cost":"$2","description":"Worth $1\n+1 Buy"},{"name":"Lucky Coin","types":["Treasure","Heirloom"],"cost":"$3","description":"Worth $1\nWhen you play this, gain a Silver."},{"name":"Magic Lamp","types":["Treasure","Heirloom"],"cost":"$0","description":"Worth $1\n----------\nWhen you play this, if there are at least 6 cards that you have exactly 1 copy of in play, trash this. If you do, gain 3 Wishes from their pile."},{"name":"Haunted Mirror","types":["Treasure","Heirloom"],"cost":"$0","description":"Worth $1\n----------\nWhen you trash this, you may discard an Action card, to gain a Ghost from its pile."},{"name":"Pasture","types":["Treasure","Victory","Heirloom"],"cost":"$2","description":"Worth $1\n----------\nWorth 1VP per Estate you have."},{"name":"Cursed Gold","types":["Treasure","Heirloom"],"cost":"$4","description":"Worth $3\nWhen you play this, gain a Curse."}]},"hexes":{"name":"Hexes","info":"","cards":[{"name":"Bad Omens","types":["Hex"],"cost":"","description":"Put your deck into your discard pile. Look through it and put 2 Coppers from it onto your deck (or reveal you can't.)"},{"name":"Delusion","types":["Hex"],"cost":"","description":"If you don't have Deluded or Envious, take Deluded."},{"name":"Envy","types":["Hex"],"cost":"","description":"If you don't have Envious or Deluded, take Envious."},{"name":"Famine","types":["Hex"],"cost":"","description":"Reveal the top 3 cards of your deck. Discard the Actions. Shuffle the rest into your deck."},{"name":"Fear","types":["Hex"],"cost":"","description":"If you have at least 5 cards in hand, discard an Action or Treasure (or reveal you can't.)"},{"name":"Greed","types":["Hex"],"cost":"","description":"Gain a Copper onto your deck."},{"name":"Haunting","types":["Hex"],"cost":"","description":"If you have at least 4 cards in hand, put one of them onto your deck."},{"name":"Locusts","types":["Hex"],"cost":"","description":"Trash the top card of your deck. If it's Copper or Estate, gain a Curse. Otherwise, gain a cheaper card that shares a type with it."},{"name":"Misery","types":["Hex"],"cost":"","description":"If this is your first Misery this game, take Miserable. Otherwise, flip it over to Twice Miserable."},{"name":"Plague","types":["Hex"],"cost":"","description":"Gain a Curse to your hand."},{"name":"Poverty","types":["Hex"],"cost":"","description":"Discard down to 3 cards in hand."},{"name":"War","types":["Hex"],"cost":"","description":"Reveal cards from your deck until revealing one costing $3 or $4. Trash it and discard the rest."}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Druid","types":["Action","Fate"],"cost":"$2","description":"+1 Buy\nReceive one of the set aside, Boons, leaving it there.\n----------\nSetup: Set aside the top 3 Boons, face-up."},{"name":"Faithful Hound","types":["Action","Reaction"],"cost":"$2","description":"+2 Cards\n----------\nWhen you discard this other than during Clean-up, you may set it aside, and put it into your hand at end of turn."},{"name":"Guardian","types":["Night","Duration"],"cost":"$2","description":"Until your next turn, when another player plays an Attack card, it doesn't affect you. At the start of your next turn, +$1.\n----------\nThis is gained to your hand (instead of your discard pile)."},{"name":"Monastery","types":["Night"],"cost":"$2","description":"For each card you've gained this turn, you may trash a card from your hand or a Copper you have in play."},{"name":"Pixie","types":["Action","Fate"],"cost":"$2","description":"+1 Card\n+1 Action\nDiscard the top Boon. You may trash this to receive that Boon twice.\n(When this is in the supply each player replaces one starting copper with Heirloom: Goat)"},{"name":"Tracker","types":["Action","Fate"],"cost":"$2","description":"+$1\nReceive a Boon.\nWhile this is in play, when you gain a card, you may put that card onto your deck.\n(When this is in the supply each player replaces one starting copper with Heirloom: Pouch)"},{"name":"Changeling","types":["Night"],"cost":"$3","description":"$3\nNight\nTrash this. Gain a copy of a card you have in play.\n----------\nIn games using this, when you gain a card costing $3 or more, you may exchange it for a Changeling."},{"name":"Fool","types":["Action","Fate"],"cost":"$3","description":"If you aren't the player with Lost in the Woods, take it, take 3 Boons, and receive the Boons in any order.\n(When this is in the supply each player replaces one starting copper with Heirloom: Lucky Coin)"},{"name":"Ghost Town","types":["Night","Duration"],"cost":"$3","description":"At the start of your next turn, +1 Card and +1 Action.\n----------\nThis is gained to your hand (instead of your discard pile)."},{"name":"Leprechaun","types":["Action","Doom"],"cost":"$3","description":"Gain a Gold. If you have exactly 7 cards, gain a Wish from its pile. Otherwise, receive a Hex."},{"name":"Night Watchman","types":["Night"],"cost":"$3","description":"Look at the top 5 cards of your deck, discard any number, and put the rest back in any order.\n----------\nThis is gained to your hand (instead of your discard pile)."},{"name":"Secret Cave","types":["Action","Duration"],"cost":"$3","description":"+1 Card\n+1 Action\nYou may discard 3 cards. If you did, then at the start of your next turn: +$3.\n(When this is in the supply each player replaces one starting copper with Heirloom: Magic Lamp)"},{"name":"Bard","types":["Action","Fate"],"cost":"$4","description":"+$2\nReceive a Boon."},{"name":"Blessed Village","types":["Action","Fate"],"cost":"$4","description":"+1 Card\n+1 Action\nWhen you gain this, take a Boon. Receive it now or at the start of your next turn."},{"name":"Cemetery","types":["Victory"],"cost":"$4","description":"Worth 2VP\n----------\nWhen you gain this, trash up to 4 cards from your hand.\n(When this is in the supply each player replaces one starting copper with Heirloom: Haunted Mirror)"},{"name":"Conclave","types":["Action"],"cost":"$4","description":"+$2\nYou may play an Action card from your hand that you don't have a copy of in play. If you do, +1 Action."},{"name":"Devil's Workshop","types":["Night"],"cost":"$4","description":"If the number of cards you gained this turn is:\n2+, gain an Imp from its pile;\n1, gain a card costing up to $4;\n0, gain a Gold."},{"name":"Exorcist","types":["Night"],"cost":"$4","description":"Trash a card from your hand. Gain a cheaper Spirit from one of the Spirit Piles."},{"name":"Necromancer","types":["Action"],"cost":"$4","description":"Play a face-up non-Duration Action card from the trash leaving it there and turning it face down for the turn.\n----------\nSetup: Put the 3 Zombies into the trash."},{"name":"Zombie Apprentice","types":["Action","Zombie"],"cost":"$3","description":"You may trash an Action card from your hand for +3 Cards and +1 Action."},{"name":"Zombie Mason","types":["Action","Zombie"],"cost":"$3","description":"Trash the top card of your deck. You may gain a card costing up to $1 more than it."},{"name":"Zombie Spy","types":["Action","Zombie"],"cost":"$3","description":"+1 Card\n+1 Action\nLook at the top card of your deck. Discard it or put it back."},{"name":"Shepherd","types":["Action"],"cost":"$4","description":"+1 Action\nDiscard any number of Victory cards, revealing them. +2 Cards per card discarded.\n(When this is in the supply each player replaces one starting copper with Heirloom: Pasture)"},{"name":"Skulk","types":["Action","Attack","Doom"],"cost":"$4","description":"+1 Buy\nEach other player receives the next Hex.\n----------\nWhen you gain this, gain a Gold."},{"name":"Cobbler","types":["Night","Duration"],"cost":"$5","description":"At the start of your next turn, gain a card to hand costing up to $4."},{"name":"Crypt","types":["Night","Duration"],"cost":"$5","description":"Set aside any number of Treasures you have in play (under this). While any remain, at the start of each of your turns, put one of them into your hand."},{"name":"Cursed Village","types":["Action","Doom"],"cost":"$5","description":"+2 Actions\nDraw until you have 6 cards in hand.\n----------\nWhen you gain this, receive a Hex."},{"name":"Den of Sin","types":["Night","Duration"],"cost":"$5","description":"At the start of your next turn: +2 Cards.\n----------\nThis is gained to your hand (instead of your discard pile)."},{"name":"Idol","types":["Treasure","Attack","Fate"],"cost":"$5","description":"When you play this, if you then have an odd number of Idols in play, receive a Boon; if an even number, each other player gains a Curse."},{"name":"Pooka","types":["Action"],"cost":"$5","description":"You may trash a Treasure other than Cursed Gold from your hand for +4 Cards.\n(When this is in the supply each player replaces one starting copper with Heirloom: Cursed Gold)"},{"name":"Sacred Grove","types":["Action","Fate"],"cost":"$5","description":"+1 Buy\n+$3\nReceive a Boon. If it doesn't give +$1, each other player may receive it."},{"name":"Tormentor","types":["Action","Attack","Doom"],"cost":"$5","description":"+$2\nIf you have no other cards in play, gain an Imp from its pile. Otherwise, each other player receives the next Hex."},{"name":"Tragic Hero","types":["Action"],"cost":"$5","description":"+3 Cards\n+1 Buy\nIf you have 8 or more cards in hand (after drawing), trash this and gain a Treasure."},{"name":"Vampire","types":["Night","Attack","Doom"],"cost":"$5","description":"Each other player receives the next Hex. Gain a card costing up to $5 other than a Vampire. Exchange this for a Bat."},{"name":"Werewolf","types":["Action","Attack","Night","Doom"],"cost":"$5","description":"If it's your Night phase, each other player receives the next Hex. Otherwise, +3 Cards."},{"name":"Raider","types":["Night","Attack","Duration"],"cost":"$6","description":"Each other player with 5 or more cards in hand discards a copy of a card you have in play (or reveals they can't).\nAt the start of your next turn, +$3"}]},"other":{"name":"Other","info":"","cards":[{"name":"Wish","types":["Action"],"cost":"$0*","description":"+1 Action\nReturn this to its pile. If you did, gain a card to your hand costing up to $6.\n(This is not in the Supply.)"},{"name":"Will-O'-Wisp","types":["Action","Spirit"],"cost":"$0*","description":"+1 Card\n+1 Action\nReveal the top card of your deck. If it costs $2 or less, put it into your hand.\n(This is not in the Supply.)"},{"name":"Bat","types":["Night"],"cost":"$2*","description":"Trash up to 2 cards from your hand. If you trashed at least one, exchange this for a Vampire.\n(This is not in the Supply.)"},{"name":"Imp","types":["Action","Spirit"],"cost":"$2*","description":"+2 Cards\nYou may play an Action card from your hand that you don't have a copy of in play.\n(This is not in the supply)."},{"name":"Ghost","types":["Night","Duration","Spirit"],"cost":"$4*","description":"Reveal cards from your deck until you reveal an Action. Discard the other cards and set aside the Action. At the start of your next turn, play it twice.\n(This is not in the Supply.)"}]},"states":{"name":"States","info":"","cards":[{"name":"Lost in the Woods","types":["State"],"cost":"","description":"At the start of your turn, you may discard a card to receive a Boon."},{"name":"Deluded","types":["State"],"cost":"","description":"At the start of your Buy phase, return this, and you can't buy Actions this turn."},{"name":"Envious","types":["State"],"cost":"","description":"At the start of your Buy phase, return this, and Silver and Gold make $1 this turn."},{"name":"Miserable","types":["State"],"cost":"","description":"Worth -2VP"},{"name":"Twice Miserable","types":["State"],"cost":"","description":"Worth -4VP"}]}},"plunder":{"events":{"name":"Events","info":"","cards":[{"name":"Bury","types":["Event"],"cost":"$1","description":"+1 Buy\nPut any card from your discard pile on the bottom of your deck."},{"name":"Avoid","types":["Event"],"cost":"$2","description":"+1 Buy\nThe next time you shuffle this turn, pick up to 3 of those cards to put into your discard pile."},{"name":"Deliver","types":["Event"],"cost":"$2","description":"+1 Buy\nThis turn, each time you gain a card, set it aside, and put it into your hand at end of turn."},{"name":"Peril","types":["Event"],"cost":"$2","description":"You may trash an Action card from your hand to gain a Loot."},{"name":"Rush","types":["Event"],"cost":"$2","description":"+1 Buy\nThe next time you gain an Action card this turn, play it."},{"name":"Foray","types":["Event"],"cost":"$3","description":"Discard 3 cards, revealing them. If they have 3 different names, gain a Loot."},{"name":"Launch","types":["Event"],"cost":"$3","description":"Once per turn: Return to your Action phase. +1 Card, +1 Action, and +1 Buy."},{"name":"Mirror","types":["Event"],"cost":"$3","description":"+1 Buy\nThe next time you gain an Action card this turn, gain a copy of it."},{"name":"Prepare","types":["Event"],"cost":"$3","description":"Set aside your hand face up.\nAt the start of your next turn, play those Actions and Treasures in any order, then discard the rest."},{"name":"Scrounge","types":["Event"],"cost":"$3","description":"Choose one: Trash a card from your hand; or gain an Estate from the trash, and if you did, gain a card costing up to $5."},{"name":"Journey","types":["Event"],"cost":"$4","description":"Once per turn: If the previous turn wasn't yours, you don't discard cards from play in Clean-up this turn, and take an extra turn after this one."},{"name":"Maelstrom","types":["Event"],"cost":"$4","description":"Trash 3 cards from your hand. Each other player with 5 or more cards in hand trashes one of them."},{"name":"Looting","types":["Event"],"cost":"$6","description":"Gain a Loot."},{"name":"Invasion","types":["Event"],"cost":"$10","description":"You may play an Attack from your hand. Gain a Duchy. Gain an Action onto your deck. Gain a Loot; play it."},{"name":"Prosper","types":["Event"],"cost":"$10","description":"Gain a Loot, plus any number of differently named Treasures."}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Cage","types":["Treasure","Duration"],"cost":"$2","description":"Set aside up to 4 cards from your hand face down (on this).\nThe next time you gain a Victory card, trash this, and put the set aside cards into your hand at end of turn."},{"name":"Grotto","types":["Action","Duration"],"cost":"$2","description":"+1 Action\nSet aside up to 4 cards from your hand face down (on this). At the start of your next turn, discard them, then draw as many."},{"name":"Jewelled Egg","types":["Treasure"],"cost":"$2","description":"Worth $1\n+1 Buy\n----------\nWhen you trash this, gain a Loot."},{"name":"Search","types":["Action","Duration"],"cost":"$2","description":"+$2\nThe next time a Supply pile empties, trash this and gain a Loot."},{"name":"Shaman","types":["Action"],"cost":"$2","description":"+1 Action\n+$1\nYou may trash a card from your hand.\n----------\nIn games using this, at the start of your turn, gain a card from the trash costing up to $6."},{"name":"Secluded Shrine","types":["Action","Duration"],"cost":"$3","description":"+$1\nThe next time you gain a Treasure, trash up to 2 cards from your hand."},{"name":"Siren","types":["Action","Duration","Attack"],"cost":"$3","description":"Each other player gains a Curse. At the start of your next turn, draw until you have 8 cards in hand.\n----------\nWhen you gain this, trash it unless you trash an Action from your hand."},{"name":"Stowaway","types":["Action","Duration","Reaction"],"cost":"$3","description":"At the start of your next turn, +2 Cards\n----------\nWhen anyone gains a Duration card, you may play this from your hand."},{"name":"Taskmaster","types":["Action","Duration"],"cost":"$3","description":"+1 Action, +$1, and if you gain a card costing exactly $5 this turn, then at the start of your next turn repeat this ability."},{"name":"Abundance","types":["Treasure","Duration"],"cost":"$4","description":"The next time you gain an Action card: +1 Buy and +$3"},{"name":"Cabin Boy","types":["Action","Duration"],"cost":"$4","description":"+1 Card\n+1 Action\nAt the start of your next turn, choose one: +$2; or trash this to gain a Duration card."},{"name":"Crucible","types":["Treasure"],"cost":"$4","description":"Trash a card from your hand. +$1 per $1 it costs."},{"name":"Flagship","types":["Action","Duration","Command"],"cost":"$4","description":"+$2\nThe next time you play a non-Command Action card, replay it."},{"name":"Fortune Hunter","types":["Action"],"cost":"$4","description":"+$2\nLook at the top 3 cards of your deck. You may play a Treasure from them. Put the rest back in any order."},{"name":"Gondola","types":["Treasure","Duration"],"cost":"$4","description":"Either now or at the start of your next turn: +$2.\n----------\nWhen you gain this, you may play an Action card from your hand."},{"name":"Harbor Village","types":["Action"],"cost":"$4","description":"+1 Card\n+2 Actions\nAfter the next Action you play this turn, if it gave you +$, +$1."},{"name":"Landing Party","types":["Action","Duration"],"cost":"$4","description":"+2 Cards\n+2 Actions\nThe next time the first card you play on a turn is a Treasure, put this onto your deck afterwards."},{"name":"Mapmaker","types":["Action","Reaction"],"cost":"$4","description":"Look at the top 4 cards of your deck. Put 2 into your hand and discard the rest.\n----------\nWhen any player gains a Victory card, you may play this from your hand."},{"name":"Maroon","types":["Action"],"cost":"$4","description":"Trash a card from your hand, +2 Cards per type it has (Action, Attack, etc.)."},{"name":"Rope","types":["Treasure","Duration"],"cost":"$4","description":"Worth $1\n+1 Buy\nAt the start of your next turn, +1 Card and you may trash a card from your hand."},{"name":"Swamp Shacks","types":["Action"],"cost":"$4","description":"+2 Actions\n+1 Card per 3 cards you have in play (rounded down)."},{"name":"Tools","types":["Treasure"],"cost":"$4","description":"Gain a copy of a card anyone has in play."},{"name":"Buried Treasure","types":["Treasure","Duration"],"cost":"$5","description":"At the start of your next turn, +1 Buy and +$3.\n----------\nWhen you gain this, play it."},{"name":"Crew","types":["Action","Duration"],"cost":"$5","description":"+3 Cards\nAt the start of your next turn, put this onto your deck."},{"name":"Cutthroat","types":["Action","Duration","Attack"],"cost":"$5","description":"Each other player discards down to 3 cards in hand.\nThe next time anyone gains a Treasure costing $5 or more, gain a Loot."},{"name":"Enlarge","types":["Action","Duration"],"cost":"$5","description":"Now and at the start of your next turn: Trash a card from your hand, and gain one costing up to $2 more."},{"name":"Figurine","types":["Treasure"],"cost":"$5","description":"+2 Cards\nYou may discard an Action card for +1 Buy and +$1."},{"name":"First Mate","types":["Action"],"cost":"$5","description":"Play any number of Action cards with the same name from your hand, then draw until you have 6 cards in hand."},{"name":"Frigate","types":["Action","Duration","Attack"],"cost":"$5","description":"+$3\nUntil the start of your next turn, each time another player plays an Action card, they discard down to 4 cards in hand afterwards."},{"name":"Longship","types":["Action","Duration"],"cost":"$5","description":"+2 Actions\nAt the start of your next turn, +2 Cards."},{"name":"Mining Road","types":["Action"],"cost":"$5","description":"+1 Action\n+1 Buy\n+$2\nOnce this turn, when you gain a Treasure, you may play it."},{"name":"Pendant","types":["Treasure"],"cost":"$5","description":"+$1 per differently named Treasure you have in play."},{"name":"Pickaxe","types":["Treasure"],"cost":"$5","description":"Worth $1\nTrash a card from your hand. If it costs $3 or more, gain a Loot to your hand."},{"name":"Pilgrim","types":["Action"],"cost":"$5","description":"+4 Cards\nPut a card from your hand onto your deck."},{"name":"Quartermaster","types":["Action","Duration"],"cost":"$5","description":"At the start of each of your turns for the rest of the game, choose one: Gain a card costing up to $4, setting it aside on this; or put a card from this into your hand."},{"name":"Silver Mine","types":["Treasure"],"cost":"$5","description":"Gain a treasure costing less than this to your hand."},{"name":"Trickster","types":["Action","Attack"],"cost":"$5","description":"Each other player gains a Curse.\nOnce this turn, when you discard a Treasure from play, you may set it aside. Put it in your hand at end of turn."},{"name":"Wealthy Village","types":["Action"],"cost":"$5","description":"+1 Card\n+2 Actions\n----------\nWhen you gain this, if you have at least 3 differently named Treasures in play, gain a Loot."},{"name":"Sack of Loot","types":["Treasure"],"cost":"$6","description":"Worth $1\n+1 Buy\nGain a Loot."},{"name":"King's Cache","types":["Treasure"],"cost":"$7","description":"You may play a Treasure from your hand 3 times."}]},"loots":{"name":"Loots","info":"","cards":[{"name":"Amphora","types":["Treasure","Duration","Loot"],"cost":"$7","description":"Either now or at the start of your next turn: +1 Buy and +$3."},{"name":"Doubloons","types":["Treasure","Loot"],"cost":"$7","description":"Worth $3\n----------\nWhen you gain this, gain a Gold."},{"name":"Endless Chalice","types":["Treasure","Duration","Loot"],"cost":"$7","description":"Now and at the start of each of your turns for the rest of the game:\nWorth $1\n+1 Buy"},{"name":"Figurehead","types":["Treasure","Duration","Loot"],"cost":"$7","description":"Worth $3\nAt the start of your next turn, +2 Cards."},{"name":"Hammer","types":["Treasure","Loot"],"cost":"$7","description":"Worth $3\nGain a card costing up to $4."},{"name":"Insignia","types":["Treasure","Loot"],"cost":"$7","description":"Worth $3\nThis turn, when you gain a card, you may put it onto your deck."},{"name":"Jewels","types":["Treasure","Duration","Loot"],"cost":"$7","description":"Worth $3\n+1 Buy\nAt the start of your next turn, put this on the bottom of your deck."},{"name":"Orb","types":["Treasure","Loot"],"cost":"$7","description":"Look through your discard pile, Choose one: Play an Action or Treasure from it; or +1 Buy and +$3."},{"name":"Prize Goat","types":["Treasure","Loot"],"cost":"$7","description":"Worth $3\n+1 Buy\nYou may trash a card from your hand."},{"name":"Puzzle Box","types":["Treasure","Loot"],"cost":"$7","description":"Worth $3\n+1 Buy\nYou may set aside a card from your hand face down. Put it into your hand at end of turn."},{"name":"Sextant","types":["Treasure","Loot"],"cost":"$7","description":"Worth $3\n+1 Buy\nLook at the top 5 cards of your deck. Discard any number. Put the rest back in any order."},{"name":"Shield","types":["Treasure","Reaction","Loot"],"cost":"$7","description":"Worth $3\n+1 Buy\n----------\nWhen another player plays an Attack, you may first reveal this from your hand to be unaffected."},{"name":"Spell Scroll","types":["Action","Treasure","Loot"],"cost":"$7","description":"Trash this to gain a cheaper card. If it's an action or Treasure, you may play it."},{"name":"Staff","types":["Treasure","Loot"],"cost":"$7","description":"Worth $3\n+1 Buy\nYou may play an Action from your hand."},{"name":"Sword","types":["Treasure","Attack","Loot"],"cost":"$7","description":"Worth $3\n+1 Buy\nEach other player discards down to 4 cards in hand."}]},"traits":{"name":"Traits","info":"","cards":[{"name":"Cheap","types":["Trait"],"cost":"","description":"Cheap cards cost $1 less."},{"name":"Cursed","types":["Trait"],"cost":"","description":"When you gain a Cursed card, gain a Loot and a Curse."},{"name":"Fated","types":["Trait"],"cost":"","description":"When shuffling, you may look through the cards and reveal Fated cards to put them on top or bottom."},{"name":"Fawning","types":["Trait"],"cost":"","description":"When you gain a Province, gain a Fawning card."},{"name":"Friendly","types":["Trait"],"cost":"","description":"At the start of your Clean-up phase, you may discard a Friendly card to gain a Friendly card."},{"name":"Hasty","types":["Trait"],"cost":"","description":"When you gain a Hasty card, set it aside, and play it at the start of your next turn."},{"name":"Inherited","types":["Trait"],"cost":"","description":"Setup: You start the game with an Inherited card in place of a starting card you choose."},{"name":"Inspiring","types":["Trait"],"cost":"","description":"After playing an Inspiring card on your turn, you may play an Action from your hand that you don't have a card of in play."},{"name":"Nearby","types":["Trait"],"cost":"","description":"When you gain a Nearby card, +1 Buy."},{"name":"Patient","types":["Trait"],"cost":"","description":"At the start of your Clean-up phase, you may set aside Patient cards from your hand to play them at the start of your next turn."},{"name":"Pious","types":["Trait"],"cost":"","description":"When you gain a Pious card, you may trash a card from your hand."},{"name":"Reckless","types":["Trait"],"cost":"","description":"Follow the instructions of played Reckless cards twice. When discarding one from play, return it to its pile."},{"name":"Rich","types":["Trait"],"cost":"","description":"When you gain a Rich card, gain a Silver."},{"name":"Shy","types":["Trait"],"cost":"","description":"At the start of your turn, you may discard one Shy card for +2 Cards."},{"name":"Tireless","types":["Trait"],"cost":"","description":"When you discard a Tireless card from play, set it aside, and put it onto your deck at end of turn."}]}},"promotional":{"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Envoy","types":["Action"],"cost":"$4","description":"Reveal the top 5 cards of your deck. The player to your left chooses one. Discard that one and put the rest into your hand."},{"name":"Black Market","types":["Action"],"cost":"$3","description":"+$2\nReveal the top 3 cards of the Black Market deck. Play any number of Treasures from your hand. You may buy one of the revealed cards. Put the rest on the bottom of the Black Market deck in any order.\n----------\nSetup: Make a Black Market deck out of different unused Kingdom cards."},{"name":"Stash","types":["Treasure"],"cost":"$5","description":"Worth $2\n----------\nWhen shuffling this, you may look through your remaining deck, and may put this anywhere in the shuffled cards."},{"name":"Walled Village","types":["Action"],"cost":"$4","description":"+1 Card; +2 Actions\n----------\nAt the start of Clean-up, if you have this and no more than one other Action card in play, you may put this onto your deck."},{"name":"Governor","types":["Action"],"cost":"$5","description":"+1 Action\nChoose one; you get the version in parentheses: Each player gets +1 (+3) Cards; or each player gains a Silver (Gold); or each player may trash a card from their hand and gain a card costing exactly $1 ($2) more."},{"name":"Prince","types":["Action"],"cost":"$8","description":"You may set this aside. If you do, set aside an Action card from your hand costing up to $4. At the start of each of your turns, play that Action, setting it aside again when you discard it from play. (Stop playing it if you fail to set it aside on a turn you play it.)"},{"name":"Summon","types":["Event"],"cost":"$5","description":"Gain an Action card costing up to $4. Set it aside. If you did, then at the start of your next turn, play it."},{"name":"Sauna/Avanto","types":["Action"],"cost":"$4","description":"Include the Sauna/Avanto pile."},{"name":"Dismantle","types":["Action"],"cost":"$4","description":"Trash a card from your hand. If it costs $1 or more, gain a cheaper card and a Gold."},{"name":"Church","types":["Action","Duration"],"cost":"$3","description":"Set aside up to 3 cards from your hand face down. At the start of your next turn, put them into your hand, then you may trash a card from your hand."},{"name":"Captain","types":["Action","Duration","Command"],"cost":"$6","description":"Now and at the start of your next turn: Play a non-Duration, non-Command action card from the supply costing up to $4, leaving it there."}]},"other":{"name":"Other","info":"","cards":[{"name":"Sauna","types":["Action"],"cost":"$4","description":"+1 Card\n+1 Action\nYou may play an Avanto from your hand\n----------\nWhile this is in play, when you play a Silver, you may trash a card from your hand.\n(This is the top half of the Sauna/Avanto pile.)"},{"name":"Avanto","types":["Action"],"cost":"$5","description":"+3 Cards\nYou may play a Sauna from your hand\n(This is the bottom half of the Sauna/Avanto pile.)"}]}},"prosperity":{"in-1st-not-2nd":{"name":"In 1st Not 2nd","info":"","cards":[{"name":"Loan","types":["Treasure"],"cost":"$3","description":"Worth $1\nWhen you play this, reveal cards from your deck until you reveal a Treasure. Discard it or trash it. Discard the other cards."},{"name":"Trade Route","types":["Action"],"cost":"$3","description":"+1 Buy\nTrash a card from your hand. +$1 per Coin token on the Trade Route mat.\n----------\nSetup: Add a Coin token to each Victory Supply pile. When a card is gained from that pile, move the token to the Trade Route mat."},{"name":"Talisman","types":["Treasure"],"cost":"$4","description":"Worth $1\n----------\nWhile this is in play, when you buy a non-Victory card costing $4 or less, gain a copy of it."},{"name":"Contraband","types":["Treasure"],"cost":"$5","description":"$3\n+1 Buy\nWhen you play this, the player to your left names a card. You can't buy that card this turn."},{"name":"Counting House","types":["Action"],"cost":"$5","description":"Look through your discard pile, reveal any number of Coppers from it, and put them into your hand."},{"name":"Mountebank","types":["Action","Attack"],"cost":"$5","description":"+$2\nEach other player may discard a Curse. If they don't, they gain a Curse and a Copper."},{"name":"Royal Seal","types":["Treasure"],"cost":"$5","description":"Worth $2\n----------\nWhile this is in play, when you gain a card, you may put that card onto your deck."},{"name":"Venture","types":["Treasure"],"cost":"$5","description":"Worth $1\nWhen you play this, reveal cards from your deck until you reveal a Treasure. Discard the rest, then play the Treasure."}]},"in-2nd-not-1st":{"name":"In 2nd Not 1st","info":"","cards":[{"name":"Anvil","types":["Treasure"],"cost":"$3","description":"Worth $1\nYou may discard a Treasure to gain a card costing up to $4."},{"name":"Clerk","types":["Action","Reaction","Attack"],"cost":"$4","description":"+$2\nEach other player with 5 or more cards in hand puts one onto their deck.\n----------\nAt the start of your turn, you may play this from your hand."},{"name":"Investment","types":["Treasure"],"cost":"$4","description":"Trash a card from your hand. Choose one: +$1; or trash this to reveal your hand for +1VP per differently named Treasure there."},{"name":"Tiara","types":["Treasure"],"cost":"$4","description":"+1 Buy\nThis turn, when you gain a card, you may put it onto your deck.\nYou may play a Treasure from your hand twice."},{"name":"Charlatan","types":["Action","Attack"],"cost":"$5","description":"+$3\nEach other player gains a Curse.\n----------\nIn games using this, Curse is also a Treasure worth $1."},{"name":"Collection","types":["Treasure"],"cost":"$5","description":"Worth $2\n+1 Buy\nThis turn, when you gain an Action card, +1VP."},{"name":"Crystal Ball","types":["Treasure"],"cost":"$5","description":"Worth $1\nLook at the top card of your deck. You may trash it, discard it, or, if it's an Action or Treasure, play it."},{"name":"Magnate","types":["Action"],"cost":"$5","description":"Reveal your hand. +1 Card per Treasure in it."},{"name":"War Chest","types":["Treasure"],"cost":"$5","description":"The player to your left names a card. Gain a card costing up to $5 that hasn't been named for a War Chests this turn."}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Watchtower","types":["Action","Reaction"],"cost":"$3","description":"Draw until you have 6 cards in hand.\n----------\nWhen you gain a card, you may reveal this from your hand, to either trash that card or put it onto your deck."},{"name":"Bishop","types":["Action"],"cost":"$4","description":"+$1\n+1VP\nTrash a card from your hand. +1VP per $2 it costs (round down).\nEach other player may trash a card from their hand."},{"name":"Monument","types":["Action"],"cost":"$4","description":"+$2\n+1VP"},{"name":"Quarry","types":["Treasure"],"cost":"$4","description":"Worth $1\n----------\nWhile this is in play, Action cards cost $2 less, but not less than $0."},{"name":"Worker's Village","types":["Action"],"cost":"$4","description":"+1 Card\n+2 Actions\n+1 Buy"},{"name":"City","types":["Action"],"cost":"$5","description":"+1 Card\n+2 Actions\nIf there are one or more empty Supply piles, +1 Card. If there are two or more, +$1 and +1 Buy."},{"name":"Mint","types":["Action"],"cost":"$5","description":"You may reveal a Treasure card from your hand. Gain a copy of it.\n----------\nWhen you buy this, trash all Treasures you have in play."},{"name":"Rabble","types":["Action","Attack"],"cost":"$5","description":"+3 Cards\nEach other player reveals the top 3 cards of their deck, discards the Actions and Treasures, and puts the rest back in any order they choose."},{"name":"Vault","types":["Action"],"cost":"$5","description":"+2 Cards\nDiscard any number of cards for +$1 each.\nEach other player may discard 2 cards, to draw a card."},{"name":"Goons","types":["Action","Attack"],"cost":"$6","description":"+1 Buy\n+$2\nEach other player discards down to 3 cards in hand.\n----------\nWhile this is in play, when you buy a card, +1VP token."},{"name":"Grand Market","types":["Action"],"cost":"$6","description":"+1 Card\n+1 Action\n+1 Buy\n+$2\n----------\nYou can't buy this if you have any Coppers in play."},{"name":"Hoard","types":["Treasure"],"cost":"$6","description":"Worth $2\n----------\nWhile this is in play, when you buy a Victory card, gain a Gold."},{"name":"Bank","types":["Treasure"],"cost":"$7","description":"When you play this, it's worth $1 per Treasure card you have in play (counting this)."},{"name":"Expand","types":["Action"],"cost":"$7","description":"Trash a card from your hand. Gain a card costing up to $3 more than it."},{"name":"Forge","types":["Action"],"cost":"$7","description":"Trash any number of cards from your hand. Gain a card with cost exactly equal to the total cost in $ of the trashed cards."},{"name":"King's Court","types":["Action"],"cost":"$7","description":"You may play an Action card from your hand three times."},{"name":"Peddler","types":["Action"],"cost":"$8-","description":"+1 Card\n+1 Action\n+$1\n----------\nDuring your Buy phase, this costs $2 less per Action card you have in play, but not less than $0."}]},"other":{"name":"Other","info":"","cards":[{"name":"Platinum","types":["Treasure"],"cost":"$9","description":"Worth $5"},{"name":"Colony","types":["Victory"],"cost":"$11","description":"10VP"}]}},"renaissance":{"artifacts":{"name":"Artifacts","info":"","cards":[{"name":"Flag","types":["Artifact"],"cost":"","description":"When drawing your hand, +1 Card."},{"name":"Horn","types":["Artifact"],"cost":"","description":"Once per turn, when you discard a Border Guard from play, you may put it onto your deck."},{"name":"Key","types":["Artifact"],"cost":"","description":"At the start of your turn, +$1."},{"name":"Lantern","types":["Artifact"],"cost":"","description":"Your Border Guards reveal 3 cards and discard 2. (It takes all 3 being Actions to take the Horn.)"},{"name":"Treasure Chest","types":["Artifact"],"cost":"","description":"At the start of your Buy phase, gain a Gold."}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Border Guard","types":["Action"],"cost":"$2","description":"Reveal the top 2 cards of your deck. Put one into your hand and discard the other. If both were Actions, take the Lantern or Horn."},{"name":"Ducat","types":["Treasure"],"cost":"$2","description":"+1 Coffers\n+1 Buy\n----------\nWhen you gain this, you may trash a Copper from your hand."},{"name":"Lackeys","types":["Action"],"cost":"$2","description":"+2 Cards\n----------\nWhen you gain this, +2 Villagers."},{"name":"Acting Troupe","types":["Action"],"cost":"$3","description":"+4 Villagers\nTrash this."},{"name":"Cargo Ship","types":["Action","Duration"],"cost":"$3","description":"+$2\nOnce this turn, when you gain a card, you may set it aside face up (on this). At the start of your next turn, put it into your hand."},{"name":"Experiment","types":["Action"],"cost":"$3","description":"+2 Cards\n+1 Action\nReturn this to the supply.\n----------\nWhen you gain this, gain another Experiment (that doesn't come with another)."},{"name":"Improve","types":["Action"],"cost":"$3","description":"+$2\n----------\nAt the start of Clean-up, you may trash an Action card you would discard from play this turn, to gain a card costing exactly $1 more than it."},{"name":"Flag Bearer","types":["Action"],"cost":"$4","description":"+$2\n----------\nWhen you gain or trash this, take the Flag."},{"name":"Hideout","types":["Action"],"cost":"$4","description":"+1 Card\n+2 Actions\nTrash a card from your hand. If it's a Victory card, gain a Curse."},{"name":"Inventor","types":["Action"],"cost":"$4","description":"Gain a card costing up to $4, then cards cost $1 less this turn (but not less than $0)."},{"name":"Mountain Village","types":["Action"],"cost":"$4","description":"+2 Actions\nLook through your discard pile and put a card from it into your hand; if you can't, +1 Card."},{"name":"Patron","types":["Action","Reaction"],"cost":"$4","description":"+1 Villager\n+$2\n----------\nWhen something causes you to reveal this (using the word \"reveal\"), +1 Coffers."},{"name":"Priest","types":["Action"],"cost":"$4","description":"+$2\nTrash a card from your hand. For the rest of this turn, when you trash a card, +$2."},{"name":"Research","types":["Action","Duration"],"cost":"$4","description":"+1 Action\nTrash a card from your hand. Per $1 it costs, set aside a card from your deck face down (on this). At the start of your next turn, put those cards into your hand."},{"name":"Silk Merchant","types":["Action"],"cost":"$4","description":"+2 Cards\n+1 Buy\n----------\nWhen you gain or trash this, +1 Coffers and +1 Villager."},{"name":"Old Witch","types":["Action","Attack"],"cost":"$5","description":"+3 Cards\nEach other player gains a Curse and may trash a Curse from their hand."},{"name":"Recruiter","types":["Action"],"cost":"$5","description":"+2 Cards\nTrash a card from your hand. +1 Villager per $1 it costs."},{"name":"Scepter","types":["Treasure"],"cost":"$5","description":"When you play this, chose one: +$2; or replay an Action card you played this turn that's still in play."},{"name":"Scholar","types":["Action"],"cost":"$5","description":"Discard your hand.\n+7 Cards"},{"name":"Sculptor","types":["Action"],"cost":"$5","description":"Gain a card to your hand costing up to $4. If it's a Treasure, +1 Villager."},{"name":"Seer","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\nReveal the top 3 cards of your deck. Put the ones costing from $2 to $4 into your hand. Put the rest back in any order."},{"name":"Spices","types":["Treasure"],"cost":"$5","description":"$2\n+1 Buy\n----------\nWhen you gain this, +2 Coffers."},{"name":"Swashbuckler","types":["Action"],"cost":"$5","description":"+3 Cards\nIf your discard pile has any cards in it: +1 Coffers, then if you have at least 4 Coffers tokens, take the Treasure Chest."},{"name":"Treasurer","types":["Action"],"cost":"$5","description":"+$3\nChoose one: Trash a Treasure from your hand; or gain a Treasure from the trash to your hand; or take the Key."},{"name":"Villain","types":["Action","Attack"],"cost":"$5","description":"+2 Coffers\nEach other player with 5 or more cards in hand discards one costing $2 or more (or reveals they can't)."}]},"projects":{"name":"Projects","info":"","cards":[{"name":"Cathedral","types":["Project"],"cost":"$3","description":"At the start of your turn, trash a card from your hand."},{"name":"City Gate","types":["Project"],"cost":"$3","description":"At the start of your turn, +1 Card, then put a card from your hand onto your deck."},{"name":"Pageant","types":["Project"],"cost":"$3","description":"At the end of your Buy phase, you may pay $1 for +1 Coffers."},{"name":"Sewers","types":["Project"],"cost":"$3","description":"When you trash a card other than with this, you may trash a card from your hand."},{"name":"Start Chart","types":["Project"],"cost":"$3","description":"When you shuffle, you may pick one of the cards to go on top."},{"name":"Exploration","types":["Project"],"cost":"$4","description":"At the end of your Buy phase, if you didn't buy any cards, +1 Coffers and +1 Villager."},{"name":"Fair","types":["Project"],"cost":"$4","description":"At the start of your turn, +1 Buy."},{"name":"Silos","types":["Project"],"cost":"$4","description":"At the start of your turn, discard any number of Coppers, revealed, and draw that many cards."},{"name":"Sinister Plot","types":["Project"],"cost":"$4","description":"At the start of your turn, add a token here, or remove your tokens here for +1 Card each."},{"name":"Academy","types":["Project"],"cost":"$5","description":"When you gain an Action card, +1 Villager."},{"name":"Capitalism","types":["Project"],"cost":"$5","description":"During your turns, Actions with +$ amounts in their text are also Treasures."},{"name":"Fleet","types":["Project"],"cost":"$5","description":"After the game ends, there's an extra round of turns just for players with this."},{"name":"Guildhall","types":["Project"],"cost":"$5","description":"When you gain a Treasure, +1 Coffers."},{"name":"Piazza","types":["Project"],"cost":"$5","description":"At the start of your turn, reveal the top card of your deck. If it's an Action, play it."},{"name":"Road Network","types":["Project"],"cost":"$5","description":"When another player gains a Victory card, +1 Card."},{"name":"Barracks","types":["Project"],"cost":"$6","description":"At the start of your turn, +1 Action."},{"name":"Crop Rotation","types":["Project"],"cost":"$6","description":"At the start of your turn, you may discard a Victory card for +2 Cards."},{"name":"Innovation","types":["Project"],"cost":"$6","description":"The first time you gain an Action card in each of your turns, you may set it aside. If you do, play it."},{"name":"Canal","types":["Project"],"cost":"$7","description":"During your turns, cards cost $1 less, but not less than $0."},{"name":"Citadel","types":["Project"],"cost":"$8","description":"The first time you play an Action card during each of your turns, play it again afterwards."}]}},"seaside":{"in-1st-not-2nd":{"name":"In 1st Not 2nd","info":"","cards":[{"name":"Embargo","types":["Action"],"cost":"$2","description":"+$2\nTrash this. Add an Embargo token to a Supply pile. (For the rest of the game, when a player buys a card from that pile, they gain a Curse.)"},{"name":"Pearl Diver","types":["Action"],"cost":"$2","description":"+1 Card\n+1 Action\nLook at the bottom card of your deck. You may put it on top."},{"name":"Ambassador","types":["Action","Attack"],"cost":"$3","description":"Reveal a card from your hand. Return up to 2 copies of it from your hand to the Supply. Then each other player gains a copy of it."},{"name":"Navigator","types":["Action"],"cost":"$4","description":"+$2\nLook at the top 5 cards of your deck. Either discard them all, or put them back in any order."},{"name":"Pirate Ship","types":["Action","Attack"],"cost":"$4","description":"Choose one: +$1 per Coin token on your Pirate Ship mat; or each other player reveals the top 2 cards of their deck, trashes one of those Treasures that you choose, and discards the rest, and then if anyone trashed a Treasure you add a Coin token to your Pirate Ship mat."},{"name":"Sea Hag","types":["Action","Attack"],"cost":"$4","description":"Each other player discards the top card of their deck, then gains a Curse onto their deck."},{"name":"Explorer","types":["Action"],"cost":"$5","description":"You may reveal a Province from your hand. If you do, gain a Gold to your hand. If you don't, gain a Silver to your hand."},{"name":"Ghost Ship","types":["Action","Attack"],"cost":"$5","description":"+2 Cards\nEach other player with 4 or more cards in hand puts cards from their hand onto their deck until they have 3 cards in hand."}]},"in-2nd-not-1st":{"name":"In 2nd Not 1st","info":"","cards":[{"name":"Astrolabe","types":["Treasure","Duration"],"cost":"$3","description":"Now and at the start of your next turn:\nWorth $1\n+1 Buy"},{"name":"Monkey","types":["Action","Duration"],"cost":"$3","description":"Until your next turn, when the player to your right gains a card, +1 Card.\nAt the start of your next turn, +1 Card."},{"name":"Sea Chart","types":["Action"],"cost":"$3","description":"+1 Card\n+1 Action\nReveal the top card of your deck. If you have a copy of it in play, put it into your hand."},{"name":"Blockade","types":["Action","Duration","Attack"],"cost":"$4","description":"Gain a card costing up to $4, setting it aside. At the start of your next turn, put it into your hand. While it's set aside, when another player gains a copy of it on their turn, they gain a Curse."},{"name":"Sailor","types":["Action","Duration"],"cost":"$4","description":"+1 Action\nOnce this turn, when you gain a Duration card, you may play it.\nAt the start of your next turn, +$2 and you may trash a card from your hand."},{"name":"Tide Pools","types":["Action","Duration"],"cost":"$4","description":"+3 Cards\n+1 Action\nAt the start of your next turn, discard 2 cards."},{"name":"Corsair","types":["Action","Duration","Attack"],"cost":"$5","description":"+$2\nAt the start of your next turn, +1 Card. Until then, each other player trashes the first Silver or Gold they play each turn."},{"name":"Pirate","types":["Action","Duration","Reaction"],"cost":"$5","description":"At the start of your next turn, gain a Treasure costing up to $6 to your hand.\n----------\nWhen any player gains a Treasure, you may play this from your hand."},{"name":"Sea Witch","types":["Action","Duration","Attack"],"cost":"$5","description":"+2 Cards\nEach other player gains a Curse.\nAt the start of your next turn, +2 Cards, then discard 2 cards."}]},"kingdom":{"name":"Kingdom","info":"","cards":[{"name":"Haven","types":["Action","Duration"],"cost":"$2","description":"+1 Card\n+1 Action\nSet aside a card from your hand face down (under this). At the start of your next turn, put it into your hand."},{"name":"Lighthouse","types":["Action","Duration"],"cost":"$2","description":"+1 Action\nNow and at the start of your next turn: +$1.\n----------\nWhile this is in play, when another player plays an Attack card, it doesn't affect you."},{"name":"Native Village","types":["Action"],"cost":"$2","description":"+2 Actions\nChoose one: Put the top card of your deck face down on your Native Village mat (you may look at those cards at any time); or put all the cards from your mat into your hand."},{"name":"Fishing Village","types":["Action","Duration"],"cost":"$3","description":"+2 Actions\n+$1\nAt the start of your next turn: +1 Action and +$1."},{"name":"Lookout","types":["Action"],"cost":"$3","description":"+1 Action\nLook at the top 3 cards of your deck. Trash one of them. Discard one of them. Put the other one back on to your deck."},{"name":"Smugglers","types":["Action"],"cost":"$3","description":"Gain a copy of a card costing up to $6 that the player to your right gained on their last turn."},{"name":"Warehouse","types":["Action"],"cost":"$3","description":"+3 Cards\n+1 Action\nDiscard 3 cards."},{"name":"Caravan","types":["Action","Duration"],"cost":"$4","description":"+1 Card\n+1 Action\nAt the start of your next turn, +1 Card."},{"name":"Cutpurse","types":["Action","Attack"],"cost":"$4","description":"+$2\nEach other player discards a Copper (or reveals a hand with no Copper)."},{"name":"Island","types":["Action","Victory"],"cost":"$4","description":"Put this and a card from your hand onto your Island mat.\n----------\n2VP"},{"name":"Salvager","types":["Action"],"cost":"$4","description":"+1 Buy\nTrash a card from your hand. +$1 per $1 it costs."},{"name":"Treasure Map","types":["Action"],"cost":"$4","description":"Trash this and a Treasure Map from your hand. If you trashed two Treasure Maps, gain 4 Golds onto your deck."},{"name":"Bazaar","types":["Action"],"cost":"$5","description":"+1 Card\n+2 Actions\n+$1"},{"name":"Merchant Ship","types":["Action","Duration"],"cost":"$5","description":"Now and at the start of your next turn: +$2."},{"name":"Outpost","types":["Action","Duration"],"cost":"$5","description":"If this is the first time you played an Outpost this turn, and the previous turn wasn't yours, then take an extra turn after this one, and you only draw 3 cards for your next hand."},{"name":"Tactician","types":["Action","Duration"],"cost":"$5","description":"If you have at least one card in hand, discard your hand, and at the start of your next turn, +5 Cards, +1 Action, and +1 Buy."},{"name":"Treasury","types":["Action"],"cost":"$5","description":"+1 Card\n+1 Action\n+$1\nWhen you discard this from play, if you didn't buy a Victory card this turn, you may put this onto your deck."},{"name":"Wharf","types":["Action","Duration"],"cost":"$5","description":"Now and at the start of your next turn: +2 Cards and +1 Buy."}]}}};

    // extraCardsNeeded contains a mapping of card name to names of cards to alert users to also include in their setup.
    // Each object property is a card name. Each value is a list of card names.
    let extraCardsNeeded = {"Page":["Treasure Hunter","Warrior","Hero","Champion"],"Peasant":["Soldier","Fugitive","Disciple","Teacher"],"Tournament":["Prizes"],"Hermit":["Madman"],"Urchin":["Mercenary"],"Pixie":["Goat"],"Tracker":["Pouch"],"Fool":["Lucky Coin","Lost in the Woods"],"Leprechaun":["Wish"],"Tormentor":["Imp"],"Vampire":["Bat"],"Secret Cave":["Magic Lamp","Wish"],"Cemetery":["Haunted Mirror","Ghost"],"The Swamp's Gift":["Will-O'-Wisp"],"Devil's Workshop":["Imp"],"Flag Bearer":["Flag"],"Border Guard":["Horn","Lantern"],"Key":["Treasurer"],"Swashbuckler":["Treasure Chest"]};

    // includeIf has the same structure as extraCardsNeeded, but is the opposite in meaning.
    // It is a mapping of card name that users need to include in their setup to a list of card names that might be picked.
    // It will be reversed and added to the extraCardsNeeded object.
    let includeIf = {"Ruins":["Cultist","Death Cart","Marauder"],"Spoils":["Bandit Camp","Marauder","Pillage"],"Horse":["Sleigh","Supplies","Scrap","Cavalry","Groom","Hostelry","Livery","Paddock","Ride","Bargain","Demand","Stampede"],"Boons":["Bard","Blessed Village","Druid","Fool","Idol","Pixie","Sacred Grove","Tracker"],"Hexes":["Cursed Village","Leprechaun","Skulk","Tormentor","Vampire","Werewolf"],"Deluded/Envious":["Cursed Village","Leprechaun","Skulk","Tormentor","Vampire","Werewolf"],"Miserable/Twice Miserable":["Cursed Village","Leprechaun","Skulk","Tormentor","Vampire","Werewolf"],"Loots":["Jewelled Egg","Search","Cutthroat","Pickaxe","Wealthy Village","Sack of Loot","Peril","Foray","Looting","Invasion","Propser","Cursed"],"Potion":["Transmute","Vineyard","Apothecary","Scrying Pool","University","Alchemist","Familiar","Philosopher's Stone","Golem","Possession"],"Allies":["Bauble","Sycophant","Importer","Underling","Wizards","Broker","Contract","Emissary","Guildmaster","Wizards"],"Curse":["Charlatan","Coven","Familiar","Old Witch","Sea Witch","Soothsayer","Witch","Young Witch","Circle of Witches","Barbarian","Black Cat","Blockade","Catapult","Cauldron","Followers","Giant","Idol","Jester","Replace","Sorcerer","Sorceress","Swamp Hag","Swindler","Torturer","Witch's Hut","Ill-Gotten Gains","Mountebank","Sea Hag"]};

    // allCardsFlattened will be an object with keys being the card name and values being the card.
    // It will have all cards in it.
    let allCardsFlattened;

    // define a regex for use in replacing newlines in strings.
    const brRx = /(\r\n|\r|\n)/g;
    // define some regex for extracting cost info from a cost string.
    const costRx = /^\$(\d+)[-*+◉]?$/;
    const debtRx = /^(\d+)Debt$/;
    const costPlusDebtRx = /^\$(\d+)\+(\d+)Debt$/;

    // prepAllCards loads the info on all the cards and preps it for use.
    function prepAllCards(){
        allCardsFlattened = {};
        // all.json is an object.
        // The keys are the expansion names (lowercased, - for space, "base" for the base game).
        // The values are objects.
        // Each expansion object has keys that are card set names, e.g. "kingdom", "events", "boons".
        // The card set values are an object with the keys "name", "info", "cards".
        // "name" and "info" are strings, and "info" is usually empty.
        // "cards" is a list of card objects.
        // Each card object has keys: "name", "types", "cost", "description".
        // "name", "cost", "description" are strings, "types" is an array of strings.
        let added = 0;
        for (let expansion of Object.keys(allCards)) {
            let expansionDisplay = expansionName(expansion);
            for (let cardSet of Object.keys(allCards[expansion])) {
                for (let i = 0; i < allCards[expansion][cardSet].cards.length; i++) {
                    let card = allCards[expansion][cardSet].cards[i];
                    // add field "randomizerCost" to each card with an integer designating it's cost.
                    card.randomizerCost = getCardRandomizerCost(card);
                    // in the descriptions, add <br> before any newlines.
                    card.description = card.description.replace(brRx, '<br>$1');
                    // Add field "cardSetKey" to each card with the cardSet key that it's in.
                    card.cardSetKey = cardSet;
                    // Add field "cardSet" to each card with the cardSet display string.
                    card.cardSet = allCards[expansion][cardSet].name;
                    // Add field "expansionKey" to each card.
                    card.expansionKey = expansion
                    // Add field "expansion" to each card with the expansion that it's in.
                    card.expansion = expansionDisplay;
                    // Store the card just by its name too.
                    if (allCardsFlattened[card.name] !== undefined) {
                        console.log("ERROR: Card with name '" + card.name + "' defined twice.");
                    }
                    allCards[expansion][cardSet].cards[i] = card;
                    allCardsFlattened[card.name] = card;
                    added++;
                }
            }
        }
        console.log("Done loading " + added + " cards.");
    };

    // expansionName converts the provided allCards key into the name of an expansion.
    function expansionName(expansion){
        rv = "";
        for (let word of expansion.split("-")) {
            if (rv !== "") {
                rv += " ";
            }
            rv += word[0].toUpperCase() + word.substring(1);
        }
        return rv;
    };

    // nameToId converts a given card/cardset/expansion name into an id.
    function nameToId(name){
        return name.toLowerCase().replace(/[^a-zA-Z0-9]+/g, '-');
    };

    // getCardCostInt converts a card's cost field to an int value to use for the card for the purposes of randomization.
    function getCardCostInt(card){
        if (card.cost === "") {
            return 0;
        }
        let costFound = costRx.exec(card.cost);
        if (costFound !== null) {
            return costFound[1];
        }
        let debtFound = debtRx.exec(card.cost);
        if (debtFound !== null) {
            return debtFound[1];
        }
        let costPlusDebtFound = costPlusDebtRx.exec(card.cost);
        if (costPlusDebtFound !== null) {
            return costPlusDebtFound[1] + costPlusDebtFound[2];
        }
        console.log("ERROR: Could not determine randomizer card cost. Returing 50.", card);
        return 50;
    };

    // getCardRandomizerCost returns an int: the cost that the provided card should have when
    // considering costs for the randomizer.
    function getCardRandomizerCost(card){
        let intVal = getCardCostInt(card);
        return intToRandomizerCost(intVal);
    };

    // intToRandomizerCost converts an int to the randomizer cost string.
    function intToRandomizerCost(intVal){
        return intVal <= 2 ? "0-2" : intVal >= 6 ? "6+" : ""+intVal;
    };

    // prepExtraCardsNeeded adds the includedIf data to extraCardsNeeded.
    function prepExtraCardsNeeded(){
        let added = 0;
        for (let cardToInclude of Object.keys(includeIf)) {
            for (let extraCard of includeIf[cardToInclude]) {
                if (! Object.prototype.hasOwnProperty.call(extraCardsNeeded, extraCard)) {
                    extraCardsNeeded[extraCard] = [];
                }
                extraCardsNeeded[extraCard].push(cardToInclude);
                added++;
            }
        }
        console.log("Done adding " + added + " cards to extraCardsNeeded (from includeIf).");
    };

    // setupInstructions sets up the instructions area by hiding them then adding a click action to re-show them.
    function setupInstructions(){
        var $inst = $('#instructions');
        var $inst_h = $('#instructions-heading');
        $inst.hide();
        $inst_h.click(function(e){
            e.preventDefault();
            $inst_h.slideUp('slow');
            $inst.slideDown('slow');
        });
    };

    // hasSelectedCheckbox looks at all checkboxes inside the provided element and returns true if
    // any of them are checked.
    function hasSelectedCheckbox(element){
        let checked = element.find("input[type=checkbox]:checked");
        if (checked.length > 0) {
            return true;
        }
        return false;
    };

    // freshExpansionElement creates a new empty element that will hold all stuff for an expansion.
    function freshExpansionElement(){
        return $("#templates").children(".expansion").first().clone();
    };

    // freshCardSetElement creates a new empty element that will hold all stuff for a card set.
    function freshCardSetElement(){
        return $("#templates").children(".cardset").first().clone();
    };

    // freshCardElement creates a new empty element that will hold all stuff for a card.
    function freshCardElement(){
        return $("#templates").children(".card").first().clone();
    };

    // visIndCallback returns a function that updates a visual indicator associated with a togglable element.
    function visIndCallback(ele){
        return function() {
            ele.parent().find(".vis-ind").first().text(ele.is(":visible") ? "v" : ">");
        };
    };

    // toggleCallback returns a function for toggling (show/hide) an element.
    function toggleCallback(ele){
        return function(){
            ele.toggle(100, visIndCallback(ele));
        }
    };

    // cardSetOrder is the order to use for cardsets inside an expansion.
    let cardSetOrder = ["kingdom", "in-2nd-not-1st", "in-1st-not-2nd", "events", "landmarks", "projects", "traits", "ways"];

    // makeExpansion creates a new expansion section for the page.
    // Expects the key (in allCards) for the expansion.
    function makeExpansion(expansion){
        let rv = freshExpansionElement();
        rv.attr('id', expansion);
        rv.find(".expansion-name").text(expansionName(expansion));
        rv.find(".expansion-heading").click(toggleCallback(rv.find(".expansion-cardsets")));
        let has2nd = false;
        let cardSets = rv.children(".expansion-cardsets").first();
        cardSets.empty();
        for (let cardSetName of cardSetOrder) {
            if (allCards[expansion][cardSetName] !== undefined) {
                if (cardSetName === "in-2nd-not-1st") {
                    has2nd = true;
                }
                cardSets.append(makeCardSet(expansion + "-" + cardSetName, allCards[expansion][cardSetName]));
            }
        }
        rv.find(".expansion-select-all").click(function(){
            rv.find(".cardset-cards").each(function(){
                let cbs = $(this).find("input[type=checkbox]");
                cbs.prop('checked', true);
                cbs.first().change();
            });
        });
        rv.find(".expansion-deselect-all").click(function(){
            rv.find(".cardset-cards").each(function(){
                let cbs = $(this).find("input[type=checkbox]");
                cbs.prop('checked', false);
                cbs.first().change();
            });
        });
        if (has2nd) {
            rv.find(".expansion-select-2nd").click(function(){
                for (let cardSetName of cardSetOrder) {
                    let checked = cardSetName !== 'in-1st-not-2nd';
                    if (allCards[expansion][cardSetName] !== undefined) {
                        let cbs = rv.find("#" + expansion + "-" + cardSetName).find("input[type=checkbox]");
                        cbs.prop('checked', checked);
                        cbs.first().change();
                    }
                }
            });
            rv.find(".expansion-select-1st").click(function(){
                for (let cardSetName of cardSetOrder) {
                    let checked = cardSetName !== 'in-2nd-not-1st';
                    if (allCards[expansion][cardSetName] !== undefined) {
                        let cbs = rv.find("#" + expansion + "-" + cardSetName).find("input[type=checkbox]");
                        cbs.prop('checked', checked);
                        cbs.first().change();
                    }
                }
            });
        } else {
            rv.find(".selectors-edition").remove();
        }
        rv.find("input[type=checkbox]").change(function(){
            if (hasSelectedCheckbox(rv)) {
                rv.addClass("expansion-selected");
            } else {
                rv.removeClass("expansion-selected");
            }
        });
        return rv;
    };

    // makeCardSet creates a new card set section for an expansion.
    // Expects baseId to be a string, and cardSet to be the cardSet object (from allCards).
    function makeCardSet(baseId, cardSet){
        let rv = freshCardSetElement();
        rv.attr('id', baseId)
        rv.find(".cardset-heading").click(toggleCallback(rv.find(".cardset-cards")));
        rv.find(".cardset-select-all").click(function(){
            let cbs = rv.find("input[type=checkbox]");
            cbs.prop('checked', true);
            cbs.first().change();
        });
        rv.find(".cardset-deselect-all").click(function(){
            let cbs = rv.find("input[type=checkbox]");
            cbs.prop('checked', false);
            cbs.first().change();
        });
        rv.find(".cardset-title").text(cardSet.name);
        let cards = rv.children(".cardset-cards").first();
        cards.empty();
        for (let card of cardSet.cards) {
            cards.append(makeCard(baseId + "-card-" + nameToId(card.name), card));
        }
        rv.find("input[type=checkbox]").change(function(){
            if (hasSelectedCheckbox(rv)) {
                rv.addClass("cardset-selected");
            } else {
                rv.removeClass("cardset-selected");
            }
        });
        return rv;
    };

    // makeOutputCardSet creates a new cardset section for randomly selected card output.
    function makeOutputCardSet(cardSet){
        let rv = makeCardSet("output-"+nameToId(cardSet.name), cardSet);
        rv.find("input[type=checkbox]").remove();
        rv.find(".selectors-cardset").remove();
        rv.find(".vis-ind").first().remove();
        rv.find(".cardset-heading").off("click");
        rv.find(".cardset-title").addClass("output-cardset-title").removeClass("cardset-title");
        rv.find(".cardset-cards").removeAttr("style");
        return rv;
    };

    // makeCard creates a new card section for a card set.
    // Expects baseId to be a string, and card to be an object (from a cardSet.cards).
    function makeCard(baseId, card){
        let rv = freshCardElement();
        rv.attr('id', baseId);
        rv.find("input[type=checkbox]").prop('value', card.name);
        rv.find(".vis-ind").first().click(toggleCallback(rv.find(".card-description")));
        rv.find(".card-name").text(card.name);
        rv.find(".card-cost").text(card.cost);
        let cardTypes = rv.find(".card-types");
        cardTypes.empty();
        let first = true;
        for (let cardType of card.types) {
            if (!first) {
                cardTypes.append("--");
            }
            first = false;
            cardTypes.append('<span class="card-type ' + cardType.toLowerCase() + '">' + cardType + '</span>')
        }
        rv.find(".card-description").html(card.description);
        return rv;
    };

    // addAllCardsToPage loops through allCards, creating elements, and adding them to the page.
    function addAllCardsToPage(){
        $("#selectors").append(makeExpansion("base"));
        for (let expansion of Object.keys(allCards)) {
            if (expansion === "base") {
                continue;
            }
            $("#selectors").append(makeExpansion(expansion));
        }
    };

    // defaultCardCostDistribution defines the default min/max used for number of cards to pick based on each cost.
    let defaultCardCostDistribution;

    // defineDefaultCardCostDistribution sets the values for defaultCardCostDistribution.
    function defineDefaultCardCostDistribution(){
        defaultCardCostDistribution = [];
        for (let i = 0; i <= 4; i++) {
            defaultCardCostDistribution.push({
                "0-2": {"min": 0, "max": 1},
                "3-5": {"min": 0, "max": 2},
                "6+": {"min": 0, "max": 1},
            });
        }
        for (let i = 5; i <= 7; i++) {
            defaultCardCostDistribution.push({
                "0-2": {"min": 0, "max": 1},
                "3-5": {"min": 0, "max": 3},
                "6+": {"min": 0, "max": 1},
            });
        }
        for (let i = 8; i <= 9; i++) {
            defaultCardCostDistribution.push({
                "0-2": {"min": 0, "max": 2},
                "3-5": {"min": 0, "max": 3},
                "6+": {"min": 0, "max": 2},
            });
        }
        for (let i = 10; i <= 11; i++) {
            defaultCardCostDistribution.push({
                "0-2": {"min": 0, "max": 2},
                "3-5": {"min": 1, "max": 4},
                "6+": {"min": 0, "max": 2},
            });
        }
        for (let i = 12; i <= 13; i++) {
            defaultCardCostDistribution.push({
                "0-2": {"min": 0, "max": 2},
                "3-5": {"min": 1, "max": 5},
                "6+": {"min": 0, "max": 2},
            });
        }
        for (let i = 14; i <= 15; i++) {
            defaultCardCostDistribution.push({
                "0-2": {"min": 1, "max": 3},
                "3-5": {"min": 2, "max": 5},
                "6+": {"min": 1, "max": 3},
            });
        }
        // Duplicate all the "3-5" entries into "3", "4", and "5" and delete "3-5".
        for (let i = 0; i < defaultCardCostDistribution.length; i++) {
            for (let j = 3; j <= 5; j++) {
                defaultCardCostDistribution[i][""+j] = defaultCardCostDistribution[i]["3-5"];
            }
            delete defaultCardCostDistribution[i]["3-5"];
        }
    };

    // getCardCostMinMaxValues gets the min and max card count values from the page.
    function getCardCostMinMaxValues(){
        rv = {};
        for (let i = 2; i <= 6; i++) {
            let entry = {}
            entry.min = $("input[name='cardCount"+i+"Min']").val()
            entry.max = $("input[name='cardCount"+i+"Max']").val()
            rv[intToRandomizerCost(i)] = entry;
        }
        return rv;
    };

    // areMinMaxValuesDefault returns true if all the min/max values are equal to their defaults for the current pick count.
    function areMinMaxValuesDefault(){
        let picks = $("input[name='cardCount']").val();
        let defaults = defaultCardCostDistribution[picks];
        let vals = getCardCostMinMaxValues();
        for (let costStr of Object.keys(defaults)) {
            if (vals[costStr].min != defaults[costStr].min || vals[costStr].max != defaults[costStr].max) {
                return false;
            }
        }
        return true;
    };

    // setMinMaxValuesToDefaults updates all of the min/max values to the defaults for the current pick count.
    function setMinMaxValuesToDefaults(){
        let picks = $("input[name='cardCount']").val();
        let defaults = defaultCardCostDistribution[picks];
        for (let i = 2; i <= 6; i++) {
            costStr = intToRandomizerCost(i);
            $("input[name='cardCount"+i+"Min']").val(defaults[costStr].min);
            $("input[name='cardCount"+i+"Max']").val(defaults[costStr].max);
        }
    };

    // useDefaultMinMaxValues is an indicator of whether we should update the min/max values when the pick count changes.
    let useDefaultMinMaxValues = true;

    // setupGenerator sets up the validation and actions of the generator.
    function setupGenerator(){
        defineDefaultCardCostDistribution();
        $("#generator").children(".vis-ind").first().click(toggleCallback($("#generator-advanced-controls")));

        // When card cost min/maxes are changed, keep track of whether they're equal to the defaults.
        $("#generator-cost-min-max").find("input[type=number]").change(function(){
            useDefaultMinMaxValues = areMinMaxValuesDefault();
        });
        // When the card count changes, update the defaults if they were previously the defaults.
        $("input[name='cardCount']").change(function(){
            if (useDefaultMinMaxValues) {
                setMinMaxValuesToDefaults();
            }
            useDefaultMinMaxValues = areMinMaxValuesDefault();
        });

        // When a platinumChancesOpt option is selected, set the selected value in platinumChances.
        $("input[name='platinumChancesOpt']").change(function(){
            let val = $(this).val();
            if (val !== "other") {
                $("input[name='platinumChances']").val(1 * val);
            }
        });
        // When platinumChances is changed, select the "other" option.
        $("input[name='platinumChances']").change(function(){
            $("input[name='platinumChancesOpt']").val(["other"]);
        });

        // When the generate game button is pressed, pick random cards!
        $("#generate-game").click(function(){
            generateRandomPicks();
        });
    };

    // filterCardsOnCost gets all cards with the provided cost string
    // (e.g. "0-2", "3", "4", "5", "6+") from the provided array of cards.
    function filterCardsOnCost(cards, costStr){
        let rv = [];
        for (let card of cards) {
            if (card.randomizerCost === costStr) {
                rv.push(card);
            }
        }
        return rv;
    };

    // getPlatinumChances gets the selected chances of including Platinum and Colony.
    function getPlatinumChances(){
        return 1 * $("input[name='platinumChances'").val();
    };

    // randIntN generats a random int from 0 (inclusive) to n (exclusive).
    function randIntN(n){
        return Math.floor(Math.random() * n);
    };

    // generateRandomPicks gathes all page input, randomly picks cards, and puts the results on the page.
    function generateRandomPicks(){
        let selectedCards = [];
        let eventCards = [];
        $("input[name='card-selection']:checked").each(function(){
            let cardName = $(this).val();
            let card = allCardsFlattened[cardName];
            if (card === undefined) {
                console.log("ERROR: Selected card '" + cardName + "' not found.");
            }
            if (card.cardSetKey === "kingdom" || card.cardSetKey === "in-2nd-not-1st" || card.cardSetKey === "in-1st-not-2nd") {
                selectedCards.push(card);
            } else {
                eventCards.push(card);
            }
        });
        console.log("There are " + selectedCards.length + " selected kingdom cards.");
        console.log("There are " + eventCards.length + " selected other cards.");
        let pickCount = $("input[name='cardCount']").val();
        if (selectedCards.length < pickCount) {
            return outputError("Not enough cards selected (" + selectedCards.length + ")");
        }
        let minMaxCounts = getCardCostMinMaxValues();
        let minRequired = 0;
        let maxAllowed = 0;
        for (let reqs of Object.values(minMaxCounts)) {
            minRequired += 1 * reqs.min;
            maxAllowed += 1 * reqs.max;
        }
        if (minRequired > pickCount) {
            return outputError("Minimum number of cards required by cost ("+minRequired+") is more than the number of cards to pick ("+pickCount+")");
        }
        if (maxAllowed < pickCount) {
            return outputError("Maximum number of cards required by cost ("+maxAllowed+") is less than the number of cards to pick ("+pickCount+")");
        }
        let availableCards = [];
        let pickedCards = [];

        // Fullfill the minimums.
        for (let costStr of Object.keys(minMaxCounts)) {
            let cardsAtCost = filterCardsOnCost(selectedCards, costStr);
            console.log("There are " + cardsAtCost.length + " cards at $" + costStr);
            if (minMaxCounts[costStr].min > 0) {
                if (cardsAtCost.length < minMaxCounts[costStr].min) {
                    return outputError("Not enough selected cards with cost $" + costStr + " ("+cardsAtCost.length+") to fullfill minimum (" + minMaxCounts[costStr].min + ")");
                }
                while (minMaxCounts[costStr].min > 0) {
                    minMaxCounts[costStr].min--;
                    minMaxCounts[costStr].max--;
                    let cardIndex = randIntN(cardsAtCost.length);
                    pickedCards.push(cardsAtCost[cardIndex]);
                    cardsAtCost.splice(cardIndex, 1);
                }
            }
            availableCards = availableCards.concat(cardsAtCost);
        }

        // Pick random cards until we've got enough.
        while (pickedCards.length < pickCount) {
            let cardIndex = randIntN(availableCards.length);
            let card = availableCards[cardIndex];
            pickedCards.push(card);
            availableCards.splice(cardIndex, 1);
            minMaxCounts[card.randomizerCost].max--;
            if (minMaxCounts[card.randomizerCost].max <= 0) {
                let newAvailableCards = [];
                for (let i = 0; i < availableCards.length; i++) {
                    if (availableCards.randomizerCost !== card.randomizerCost) {
                        newAvailableCards.push(availableCards[i]);
                    }
                }
                availableCards = newAvailableCards;
                if (availableCards.length < pickCount - pickedCards.length) {
                    return outputError("Not enough cards left to pick from ("+availableCards.length+") after hitting maximum of one or more cost");
                }
            }
        }

        // If "Young Witch" was selected, pick a bane card.
        let haveYoungWitch = false;
        let baneCard = undefined;
        for (let card of pickedCards) {
            if (card.name === "Young Witch") {
                haveYoungWitch = true;
                break;
            }
        }
        if (haveYoungWitch) {
            availableCards = [];
            for (let card of selectedCards) {
                let isPicked = false;
                for (let pickedCard of pickedCards) {
                    if (pickedCard.name == card.name) {
                        isPicked = true;
                        break;
                    }
                }
                if (!isPicked) {
                    availableCards.push(card);
                }
            }
            if (availableCards.length === 0) {
                return outputError("No cards left to pick a Bane card.");
            }
            let cardIndex = randIntN(availableCards.length);
            baneCard = availableCards[cardIndex]
        }

        // Pick random event cards if any were selected.
        let pickedEvents = [];
        if (eventCards.length > 0) {
            let eventCount = $("select[name='eventCount']").val();
            console.log("EventCount selection: " + eventCount);
            let eventsToPick;
            if (eventCount === "random") {
                let r = randIntN(100);
                // 0 <- 5%; 1 <- 50%; 2 <- 44%; 3 <- 1%
                if (r < 5) {
                    eventsToPick = 0;
                } else if (r < 55) {
                    eventsToPick = 1;
                } else if (r < 99) {
                    eventsToPick = 2;
                } else {
                    eventsToPick = 3;
                }
                if (eventCards.length < eventsToPick) {
                    eventsToPick = eventCards.length;
                }
            } else {
                eventsToPick = 1 * eventCount;
                if (eventCards.length < eventsToPick) {
                    return outputError("Not enough selected Events, Landmarks, Projects, Traits and/or Ways ("+eventCards.length+") to fullfill selected count ("+eventsToPick+")");
                }
            }
            console.log("Picking " + eventsToPick + " other cards");
            while (pickedEvents.length < eventsToPick) {
                let eventIndex = randIntN(eventCards.length);
                pickedEvents.push(eventCards[eventIndex]);
                eventCards.splice(eventIndex, 1);
            }
        }

        // Decide on whether to include Platinum and Colony.
        let platinumChances = getPlatinumChances();
        let includePlatinum = platinumChances !== 0 && (platinumChances === 100 || randIntN(100) < platinumChances);

        // Identify extra cards that are needed.
        let extraCardsToInclude = {};

        // Create the output stuff and put it on the page!
        $("#output").empty();
        pickedCards.sort((a, b) => a.name.localeCompare(b.name));
        pickedCardSets = {};
        for (let card of pickedCards) {
            if (pickedCardSets[card.expansion] === undefined) {
                pickedCardSets[card.expansion] = {
                    name: card.expansion,
                    cards: [],
                };
            }
            pickedCardSets[card.expansion].cards.push(card);
            if (extraCardsNeeded[card.name] !== undefined) {
                for (let ec of extraCardsNeeded[card.name]) {
                    extraCardsToInclude[ec] = true;
                }
            }
        }
        if (pickedCardSets.Base !== undefined) {
            $("#output").append(makeOutputCardSet(pickedCardSets.Base));
        }
        for (let cardSet of Object.keys(pickedCardSets)) {
            if (cardSet === "Base") {
                continue;
            }
            $("#output").append(makeOutputCardSet(pickedCardSets[cardSet]));
        }
        if (baneCard !== undefined) {
            let baneSet = {
                name: "Bane card (from " + baneCard.expansion + ")",
                cards: [baneCard]
            };
            $("#output").append(makeOutputCardSet(baneSet));
        }
        if (pickedEvents.length > 0) {
            let eventTypesMap = {};
            for (let card of pickedEvents) {
                eventTypesMap[card.cardSet] = true;
            }
            let eventTypes = Object.keys(eventTypesMap).sort();
            let eventCardSet = {
                name: eventTypes[0],
                cards: pickedEvents,
            };
            if (eventTypes.length == 2) {
                eventCardSet.name += " and " + eventTypes[1];
            } else if (eventTypes.length > 2) {
                for (let i = 1; i < eventTypes.length - 1; i++) {
                    eventCardSet.name += ", " + eventTypes[i];
                }
                eventCardSet.name += ", and " + eventTypes[eventTypes.length-1];
            }
            $("#output").append(makeOutputCardSet(eventCardSet));
        }
        if (includePlatinum) {
            $("#output").append($("#templates").children(".platinum").first().clone())
        }
        let extraCards = Object.keys(extraCardsToInclude).sort();
        if (extraCards.length > 0) {
            let ec = $("#templates").children(".extra-cards").first().clone();
            ec.find(".extra-cards-list").text(extraCards.join(", "));
            $("#output").append(ec);
        }
        $("#output").show(100);
    };

    // outputError sets the output to the provided error message.
    function outputError(message){
        let err = $("#templates").children(".error").first().clone();
        err.text(message);
        $("#output").empty();
        $("#output").html(err);
        $("#output").show(100);
        return undefined;
    };

    $(document).ready(function(){
        setupInstructions();
        prepAllCards();
        prepExtraCardsNeeded();
        addAllCardsToPage();
        setupGenerator();
    });

</script>
<style>
#selectors, #generator, #output {
    border: 1px solid black;
    margin-bottom: 10px;
    padding: 1px;
}
.vis-ind {
    display: inline-block;
    width: 10px;
    font-family: Arial, Helvetica, sans-serif;
    color: #999999;
}
.expansion {
    border-bottom: 1px dashed gray;
    padding-left: 2px;
    padding-top: 2px;
}
.selectors-all, .selectors-edition, .selectors-cardset {
    display: inline-block;
}
.expansion-selected {
    background-color: #BBBBBB;
}
.expansion-name {
    display: inline-block;
    width: 100px;
    font-weight: bold;
}
.expansion-cardsets {
    padding-bottom: 5px;
}
.cardset, .extra-cards {
    border-top: 1px dotted black;
    border-left: 1px dotted black;
    margin-top: 5px;
    margin-left: 5px;
    padding-top: 2px;
    padding-left: 2px;
    background-color: white;
}
.cardset-selected {
    background-color: #DDDDDD;
}
.cardset-title {
    display: inline-block;
    width: 130px;
    font-style: italic;
}
.output-cardset-title {
    font-weight: bold;
}
.card-type {
    padding-left: 5px;
    padding-right: 5px;
}
.card-type.reaction {
    background-color: cyan;
    margin-left: 2px;
    margin-right: 2px;
}
.card-type.duration {
    background-color: orange;
    margin-left: 2px;
    margin-right: 2px;
}
.card-type.attack {
    background-color: pink;
    margin-left: 2px;
    margin-right: 2px;
}
.card-type.treasure {
    background-color: yellow;
    margin-left: 2px;
    margin-right: 2px;
}
.card-type.victory {
    background-color: lightgreen;
    margin-left: 2px;
    margin-right: 2px;
}
.card-description {
    background-color: white;
    margin-left: 25px;
    margin-bottom: 5px;
    margin-right: 25px;
    padding-top: 5px;
    padding-left: 5px;
    padding-bottom: 5px;
    border-left: 1px solid darkgray;
    border-bottom: 1px solid darkgray;
}
input[type=number] {
    width: 40px;
}
input[name='platinumChances'] {
    width: 45px;
}
#generator {
    padding-top: 5px;
    padding-bottom: 5px;
}
#generator-cost-min-max {
    margin-top: 5px;
    margin-bottom: 5px;
    margin-left: 10px;
}
#generator-cost-min-max > tbody > tr > th {
    text-align: right;
}
#generator-events {
    display: inline-block;
    margin-top: 5px;
    margin-bottom: 5px;
    margin-left: 10px;
}
#generator-platinum {
    display: inline-block;
    margin-top: 5px;
    margin-bottom: 5px;
    margin-left: 10px;
}
.error {
    background-color: yellow;
}
.extra-cards-title {
    font-weight: bold;
}
#instructions-heading {
    position: relative;
    text-align: center;
    margin-top: 30px;
    padding: 3px;
    font-size: 1.5em;
    display: block;
    margin-left: auto;
    margin-right: auto;
}
#instructions {
    display: block;
    width: 90%;
    margin: auto;
}
.fine-print {
    font-size: 10px;
}
#cookies, #source, #disclaimer {
    position: relative;
    padding: 5px;
    text-align: center;
}
noscript {
    display: block;
    width: 90%;
    margin: auto;
}
body {
    padding-bottom: 40px;
}
</style>
</head>
<body>
<div id="templates" style="display:none;">
    <div class="expansion">
        <span class="expansion-heading">
            <span class="vis-ind">&gt;</span>
            <span class="expansion-name">Expansion Name</span>
        </span>
        <span class="selectors-edition">
            <button type="button" class="expansion-select-2nd">Select 2nd Edition</button>
            <button type="button" class="expansion-select-1st">Select 1st Edition</button>
        </span>
        <span class="selectors-all">
            <button type="button" class="expansion-select-all">Select All</button>
            <button type="button" class="expansion-deselect-all">Deselect All</button>
        </span>
        <div class="expansion-cardsets" style="display:none;">Card Sets</div>
    </div>
    <div class="cardset">
        <span class="cardset-heading">
            <span class="vis-ind">&gt;</span>
            <span class="cardset-title">Card Set Title</span>
        </span>
        <span class="selectors-cardset">
            <button type="button" class="cardset-select-all">Select All</button>
            <button type="button" class="cardset-deselect-all">Deselect All</button>
        </span>
        <div class="cardset-cards" style="display:none;">Cards</div>
    </div>
    <div class="card">
        <span class="vis-ind">&gt;</span>
        <label class="card-summary">
            <input type="checkbox" name="card-selection">
            <span class="card-cost">$X</span>
            <span class="card-name">Card Name</span>
            : <span class="card-types">Types</span>
        </label>
        <div class="card-description" style="display:none;">Description</div>
    </div>
    <span class="error"></span>
    <div class="platinum cardset">
        <span class="cardset-heading">
            <span class="output-cardset-title">Prosperity</span>
        </span>
        <div class="cardset-cards">Include Platinum and Colony in your game (if you have them).</div>
    </div>
    <div class="extra-cards">
        <span class="extra-cards-title">You will also need</span>:
        <span class="extra-cards-list"></span>
    </div>
</div>
<h1>Dominion Randomizer</h1>
<div id="selectors">
    <noscript>
        <p>
            This page uses javascript to randomly generate Dominion games.
            All needed data and functionality is included in this html file.
            It does not use any external resources.
            It does not submit any forms or make any requests.
            It is completely self-contained.
            But it only works using javascript.
        </p>
    </noscript>
</div>
<div id="generator">
    <span class="vis-ind">&gt;</span>
    <span id="generator-advanced-controls" style="display: none;">
        <label id="generator-card-count">Number of Kingdom Cards to Choose: <input type="number" name="cardCount" value="10" min="0" max="15"></label>
        <table id="generator-cost-min-max">
            <caption>Cards by cost</caption>
            <thead>
                <tr>
                    <th>Cost</th>
                    <th>Min</th>
                    <th>Max</th>
                </tr>
            </thead>
            <tbody>
                <tr class="min-max">
                    <th>0-2</th>
                    <td><input type="number" name="cardCount2Min" value="0" min="0" class="min"></td>
                    <td><input type="number" name="cardCount2Max" value="2" min="0" class="max"></td>
                </tr>
                <tr class="min-max">
                    <th>3</th>
                    <td><input type="number" name="cardCount3Min" value="1" min="0" class="min"></td>
                    <td><input type="number" name="cardCount3Max" value="4" min="0" class="max"></td>
                </tr>
                <tr class="min-max">
                    <th>4</th>
                    <td><input type="number" name="cardCount4Min" value="1" min="0" class="min"></td>
                    <td><input type="number" name="cardCount4Max" value="4" min="0" class="max"></td>
                </tr>
                <tr class="min-max">
                    <th>5</th>
                    <td><input type="number" name="cardCount5Min" value="1" min="0" class="min"></td>
                    <td><input type="number" name="cardCount5Max" value="4" min="0" class="max"></td>
                </tr>
                <tr class="min-max">
                    <th>6+</th>
                    <td><input type="number" name="cardCount6Min" value="0" min="0" class="min"></td>
                    <td><input type="number" name="cardCount6Max" value="2" min="0" class="max"></td>
                </tr>
            </tbody>
        </table>
        <label id="generator-events">
            Number of Events, Landmarks, Projects, Traits and/or Ways:
            <select name="eventCount">
                <option value="random">Random</option>
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <span class="fine-print">(Random = 5% -&gt; 0; 50% -&gt; 1; 44% -&gt; 2; 1% -&gt; 3)</span>
        </label><br>
        <div id="generator-platinum">
            Chances of including Platinum and Colony:
            <label><input type="radio" name="platinumChancesOpt" value="0">0%</label>
            <label><input type="radio" name="platinumChancesOpt" value="25">25%</label>
            <label><input type="radio" name="platinumChancesOpt" value="50" checked="checked">50%</label>
            <label><input type="radio" name="platinumChancesOpt" value="75">75%</label>
            <label><input type="radio" name="platinumChancesOpt" value="100">100%</label>
            <label><input type="radio" name="platinumChancesOpt" value="other">Other</label>
            <label>Amount: <input type="number" name="platinumChances" value="50" min="0" max="100">%</label>
        </div><br>
    </span>
    <button type="button" id="generate-game">Generate Game</button>
</div>
<div id="output" style="display: none;">Output</div>
<a href="#" id="instructions-heading">How to use this site</a>
<div id="instructions">
    <p>
        This page allows you to select any number of Dominion cards; from those selected cards a random game of Dominion will be chosen.
    </p>
    <p>
        Clicking an expansion title will expand/collapse it to show its different card sets.
        Entire expansions or editions can be selected/deselected using the buttons next to the expansion title.
        An expansion is colored dark-gray if any cards in it are selected.
    </p>
    <p>
        Clicking a card set title will show expand/collapse its list of cards.
        All cards in a card set can be selected/deselected using the buttons next to the card set title.
        A card set is colored light-gray if any cards in it are selected.
    </p>
    <p>
        Each card has a checkbox that allows it to be selected or deselected individually.
        Clicking the "%gt;" next to a card's checkbox will show/hide the card's description.
    </p>
    <p>
        Once you've selected the cards to choose from, press the "Generate Game" button.
        A new section will appear below it containing the cards randomly chosen for your game.
    </p>
    <p>
        Extra generation controls are available by clicking the "&gt;" to the left of "Generate Game" button.
        This allows you to define various game generation parameters such as possible card cost distribution.
    </p>
</div>
<div class="fine-print">
    <div id="cookies">
        This site does not use cookies.
        <br>
        This site does not track or save anything.
        <br>
        This page does not even use any resources outside the source of this html file.
    </div>
    <div id="source">
        The source code for this page can be found on <a href="https://github.com/SpicyLemon/SpicyLemon/tree/master/dominion" target="_blank">Github</a>
        <br>
        You can also just right-click -> view source; it's all there.
    </div>
    <div id="disclaimer">
        This service is in no way affiliated with <a href="https://www.riograndegames.com/games/dominion/" target="_blank">Dominion</a> or <a href="https://www.riograndegames.com/" target="_blank">Rio Grande Games</a>.
        <br>
        It is independely maintained and operated.
        <br>
    </div>
</div>
</body>
</html>